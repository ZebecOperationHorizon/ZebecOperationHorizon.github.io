{"version":3,"sources":["components/Vote/OptionItem/OptionItem.module.scss","components/Footer/Footer.module.scss","components/UI/CustomButton/CustomButton.module.scss","components/Vote/Proposals/Proposals.module.scss","components/UI/CustomModal/CustomModal.module.scss","views/VoteDetail/VoteDetail.module.scss","components/UI/MainContainer/MainContainer.module.scss","views/Vote/Vote.module.scss","constants/addresses.js","utils/utils.js","constants/misc.js","constants/wallets.js","constants/chains.js","store/wallet-context.jsx","components/UI/CustomButton/CustomButton.jsx","hooks/useIsMounted.js","store/nameservice-context.jsx","hooks/useContract.js","hooks/useUpdate.jsx","hooks/useInvitationCenter.js","components/WalletMenu/WalletMenu.jsx","components/Vote/Proposals/Proposal0.jsx","utils/voteUtils.jsx","components/Vote/ProposalList/ProposalList.jsx","hooks/useVote.js","views/Vote/Vote.jsx","components/UI/MainContainer/MainContainer.jsx","components/UI/CustomInput/CustomInput.jsx","components/Vote/OptionItem/OptionItem.jsx","components/UI/CustomModal/CustomModal.jsx","hooks/useToken.js","views/VoteDetail/VoteDetail.jsx","constants/pages.jsx","hooks/useWindowDimensions.js","hooks/useIsMobileView.js","components/NavLinkWithQuery/NavLinkWithQuery.jsx","components/Header/Header.jsx","components/Footer/Footer.jsx","components/RedirectWithQuery/RedirectWithQuery.jsx","App.jsx","hooks/useQuery.jsx","i18n.js","index.jsx","components/Header/Header.module.scss","components/WalletMenu/WalletMenu.module.scss","components/Vote/ProposalList/ProposalList.module.scss"],"names":["module","exports","ADDRESSES","process","REACT_APP_DEV_CONTRACT","MULTICALL","NAMESERVICE","CONTRACT_NAME","NULL_ADDR","checkTime","ts","Date","getTime","FETCH_STATE","readContractReducer","state","action","type","isLoading","isError","data","payload","Error","toHex","decimalNum","toString","formatNumber","num","formatString","parseFloat","numeral","format","WEBSITE_URL","WALLET_TYPE","WALLET_INFO","name","link","SUPPORTTED_WALLET","CHAINS","BSC","chain","rpc","faucets","nativeCurrency","symbol","decimals","infoURL","shortName","chainId","networkId","slip44","explorers","url","standard","BSC_TEST","OEC","TARGET_CHAIN","DEFAULT_RPC","walletContext","createContext","useWallet","useContext","ProvideWallet","children","wallet","useState","account","setAccount","ethers","providers","JsonRpcProvider","ethersProvider","setEthersProvider","walletMenuVisible","setWalletMenuVisible","resetDefault","useCallback","sessionStorage","removeItem","window","location","reload","disconnect","provider","connect","verifyChain","Number","request","method","handleChainChanged","networkData","chainName","rpcUrls","blockExplorerUrls","console","log","params","code","message","error","detectEthereumProvider","timeout","ethereumProvider","WalletConnectProvider","enable","onto","open","on","Web3Provider","useEffect","isMounted","getAccounts","tempAccount","send","accounts","length","toLowerCase","toggleWalletMenuVisible","prev","useProvideWallet","Provider","value","CustomButton","props","className","onClick","secondary","gray","loading","disabled","rounded","classNames","styles","LoadingOutlined","defaultProps","useIsMounted","useRef","current","nameserviceContext","useNameservice","useProvideNameservice","addresses","setAddresses","nameserviceContract","useMemo","Contract","ZHNameServiceInterface","abi","useNameserviceContract","fetchAddresses","listSingleEntries","singleEntries","decodedSingleEntries","reduce","accum","item","utils","parseBytes32String","addr","ProvideNameservice","useManagerContract","ZHManagerInterface","getSigner","useInvitationCenterContract","InvitationCenterInterface","useERC20Contract","address","isAddress","HERC20Interface","useContract","contract","methodName","decoder","initValue","useReducer","dispatch","useTranslation","t","read","args","overrides","Array","write","tx","info","wait","receipt","success","updateContext","useUpdate","ProvideUpdate","update","timer","setTimer","timerId","setInterval","now","clearInterval","updateByTimer","useProvideUpdate","WalletMenu","decodeInviterRecords","record","who","inviter","invitationCode","toNumber","number","invitationContract","inviterRecords","readInviterRecords","inviteeRecordsLength","readInviteeRecordsLength","fetchData","useInviterRecords","backdrop","visible","disconnectMenu","title","text","onCopy","disconnectButton","gutter","map","span","MenuItem","walletType","src","alt","Proposal0","proposal","refWrap","href","target","rel","PROPOSAL_INFO","DescComp","author","quorum","parseUnits","mul","div","PROPOSAL_STATE","ProposalList","items","isArray","dataSource","renderItem","Item","proposalItem","to","pid","proposalContent","status","ended","topic","timeWrap","infoItem","startTimestamp","toUTCString","slice","endTimestamp","optionVotes","votes","add","constants","Zero","gte","useGetProposals","decodeProposals","proposals","index","startTime","endTime","managerContract","useGetProposalsLength","proposalsLength","eq","Vote","useRouteMatch","path","reversedProposals","reverse","filteredProposals","setFilteredProposals","upcoming","filter","live","classnames","bannerWrap","banner","voteImg","titleWrap","titleInnerWrap","voteImgMobile","desc","navLinkWrap","isActive","navLink","navLinkActive","exact","mainContent","MainContainer","style","CustomInput","placeholder","onChange","OptionItem","selectedOption","voterRecord","voteMax","voted","gt","percent","totalVote","tempPercent","isNaN","selected","optionState","CheckOutlined","color","fontSize","textWrap","optionName","valueWrap","formatUnits","percentBarOutter","width","percentBar","CustomModal","onCancel","showTitle","rest","wrapClassName","destroyOnClose","centered","closable","footer","maskStyle","backgroundColor","useTokenBalance","tokenAddress","unit","accountAddress","tokenContract","isNative","parseInt","nativeBalance","setNativeBalance","getBalance","formatEther","balance","useTokenAllowance","targetContractAddress","VoteDetail","setSelectedOption","stakeModalVisible","setStateModalVisible","stakeInput","setStakeInput","id","useParams","undefined","useGetVote","useVoteWithdrawable","voteWithdrawable","allTokenBalance","zbcBalance","useAllTokenBalance","vote","optionIndex","zebecAmount","useVote","voteState","voteWithdraw","useVoteWithdraw","voteWithdrawState","allTokenAllowance","zbcAllowance","zbcLegacyAllowance","usdtAllowance","busdAllowance","useAllTokenAllowance","allowance","approve","targetAddress","useTokenApprove","approveTokenState","loadingPlaceholder","options","optionNumber","votedIndex","findIndex","stakedZBC","voteBalance","toggleStakeModal","handleVote","amount","currency","handleVoteWithdraw","stakeModal","e","voteButton","bannerContainer","backButton","LeftOutlined","descWrap","actionWrap","actionCard","optionWrap","option","statsWrap","statsItem","usePages","component","isSubPage","getWindowDimensions","innerWidth","height","innerHeight","useIsMobileView","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","NavLinkWithQuery","search","useLocation","pathname","Header","PAGES","mainPages","isMobileView","menuCollapsed","setMenuCollapsed","pages","setPages","protected","toggleMenu","logo","menuButton","menuWrap","navWrap","navItem","menuItems","navMenu","overlay","active","maintenance","walletButton","substring","LINK_COLUMN","PRODUCT","COMPANY","LEARN","SOCIAL","LINK_LIST","Footer","FooterColumn","FlexColumn","FooterLogo","LinkWrap","Object","values","xs","sm","md","lg","xl","xxl","LinkColumn","linkItem","CopyRight","RedirectWithQuery","App","CONCRETE_PAGES","AOS","init","duration","once","PageComponent","queryContext","ProvideQuery","query","URLSearchParams","useProvideQuery","loadPath","i18next","use","HttpBackend","initReactI18next","debug","fallbackLng","interpolation","escapeValue","ns","defaultNS","allowObjectInHTMLChildren","detection","order","supportedLngs","backend","react","transKeepBasicHtmlNodesFor","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.47266f05.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"voteResult\":\"OptionItem_voteResult__2ro9Z\",\"OptionItem\":\"OptionItem_OptionItem__1FtEq\",\"selected\":\"OptionItem_selected__3P6Ez\",\"optionState\":\"OptionItem_optionState__Eg50d\",\"voted\":\"OptionItem_voted__2AIrY\",\"textWrap\":\"OptionItem_textWrap__2iVe6\",\"optionName\":\"OptionItem_optionName__1yoHW\",\"valueWrap\":\"OptionItem_valueWrap__1Uz_y\",\"percent\":\"OptionItem_percent__TiHSs\",\"percentBarOutter\":\"OptionItem_percentBarOutter__McSQd\",\"percentBar\":\"OptionItem_percentBar__30tfA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Footer\":\"Footer_Footer__37hEc\",\"FooterLogo\":\"Footer_FooterLogo__2zzeD\",\"FooterDesc\":\"Footer_FooterDesc__3as-X\",\"FooterColumn\":\"Footer_FooterColumn__2Azsp\",\"FlexColumn\":\"Footer_FlexColumn__1w9ZE\",\"LinkWrap\":\"Footer_LinkWrap__3AuLt\",\"LinkColumn\":\"Footer_LinkColumn__16EFv\",\"CopyRight\":\"Footer_CopyRight__2Eutl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CustomButton\":\"CustomButton_CustomButton__1En6E\",\"secondary\":\"CustomButton_secondary__UpmLO\",\"rounded\":\"CustomButton_rounded__1XWK1\",\"disabled\":\"CustomButton_disabled__1ne4M\",\"loading\":\"CustomButton_loading__3-QOM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"proposal\":\"Proposals_proposal__2jdZM\",\"refWrap\":\"Proposals_refWrap__3a3Cz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CustomModal\":\"CustomModal_CustomModal__2rAu3\",\"titleWrap\":\"CustomModal_titleWrap__1DgyE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"VoteDetail\":\"VoteDetail_VoteDetail__3quOM\",\"loadingPlaceholder\":\"VoteDetail_loadingPlaceholder__3TpRU\",\"banner\":\"VoteDetail_banner__2Sjxr\",\"bannerContainer\":\"VoteDetail_bannerContainer__2ljJk\",\"backButton\":\"VoteDetail_backButton__3ta4G\",\"mainContent\":\"VoteDetail_mainContent__3ahVd\",\"descWrap\":\"VoteDetail_descWrap__2bgjx\",\"actionWrap\":\"VoteDetail_actionWrap__V8tl0\",\"actionCard\":\"VoteDetail_actionCard__1QOFE\",\"titleWrap\":\"VoteDetail_titleWrap__27Aks\",\"optionWrap\":\"VoteDetail_optionWrap__38Ht-\",\"statsItem\":\"VoteDetail_statsItem___2UXg\",\"voteButton\":\"VoteDetail_voteButton__3LwFG\",\"stakeModal\":\"VoteDetail_stakeModal__GHEGz\",\"balance\":\"VoteDetail_balance__1dQhx\",\"status\":\"VoteDetail_status__1zvZG\",\"ended\":\"VoteDetail_ended__3qCPH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MainContainer\":\"MainContainer_MainContainer__15KuF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Vote\":\"Vote_Vote__JicP9\",\"bannerWrap\":\"Vote_bannerWrap__3QczF\",\"mainContent\":\"Vote_mainContent__2NPHH\",\"banner\":\"Vote_banner__3-fcE\",\"voteImg\":\"Vote_voteImg__5pOJS\",\"voteImgMobile\":\"Vote_voteImgMobile__2mRWo\",\"titleWrap\":\"Vote_titleWrap__2Bp5C\",\"title\":\"Vote_title__11T8X\",\"navLinkWrap\":\"Vote_navLinkWrap__37gSs\",\"navLink\":\"Vote_navLink__2TWjD\",\"navLinkActive\":\"Vote_navLinkActive__q3PFe\",\"titleInnerWrap\":\"Vote_titleInnerWrap__1mi_M\"};","export const DEV_ADDRESSES = {\n  MULTICALL: '0x1Ac73F6eD8fA9215E6AAdc1cdc057f4eaA275B65',\n  NAMESERVICE: '0x5945e09681C83C33665F7fFe53576b4920CA3480',\n};\n\nexport const PROD_ADDRESSES = {\n  MULTICALL: '0xbb931CC8c3cCbf3009AbDD4096327f0c8D572AB1',\n  NAMESERVICE: '0x9D2076fDE46EeB5F335B7C8523b3d4a5641EeD9e',\n};\n\nexport const ADDRESSES = process.env.REACT_APP_DEV_CONTRACT ? DEV_ADDRESSES : PROD_ADDRESSES;\n\nexport const CONTRACT_NAME = {\n  InvitationCenter: 'InvitationCenter',\n  ZBC: 'ZBCBridged',\n  ZBCLegacy: 'ZBCLegacy',\n  USDT: 'USDT',\n  BUSD: 'BUSD',\n  ZPoint: 'ZPoint', // ERC20IMPROVED\n  ZepochNode: 'ZepochNode', // ERC721IMPROVED\n  ThemisGavel: 'ThemisGavel', // ERC721IMPROVED\n  Manager: 'Manager',\n  Vault: 'Vault',\n};\n\nexport const NULL_ADDR = '0x0000000000000000000000000000000000000000';\n\nexport const SUPPORT_PURCHASE_TOKEN_KEY = {\n  1: [CONTRACT_NAME.ZBCLegacy, CONTRACT_NAME.USDT, CONTRACT_NAME.BUSD],\n  2: [CONTRACT_NAME.USDT, CONTRACT_NAME.BUSD],\n};\n","// import { ethers } from 'ethers';\nimport numeral from 'numeral';\nimport { NULL_ADDR } from '../constants/addresses';\n\nexport const TIME_RATIO = 1;\n\nexport const SECOND = 1 * TIME_RATIO;\nexport const MINUTES = SECOND * 60;\nexport const HOUR = MINUTES * 60;\nexport const DAY = HOUR * 24;\nexport const MONTH = DAY * 30;\nexport const YEAR = DAY * 365;\n\nexport const truncAddress = (addr) => {\n  if (addr && addr.length === 42 && addr !== NULL_ADDR) {\n    return `${addr.substring(0, 6)}...${addr.substring(addr.length - 4)}`;\n  }\n  return '-';\n};\n\n// check if a timestamp is from the past, need to be in millisecond\nexport const checkTime = (ts) => new Date().getTime() > ts;\n\nexport const FETCH_STATE = {\n  INIT: 0,\n  SUCCESS: 1,\n  FAILURE: 2,\n};\n\n// reducer for general contract calls including states: loading, error, data\nexport const readContractReducer = (state, action) => {\n  switch (action.type) {\n    case FETCH_STATE.INIT:\n      return {\n        ...state,\n        isLoading: true,\n        isError: false,\n      };\n    case FETCH_STATE.SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        data: action.payload,\n      };\n    case FETCH_STATE.FAILURE:\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      };\n    default:\n      throw new Error('Invalid general contract action');\n  }\n};\n\n// convert decimal number to Hex string\nexport const toHex = (decimalNum) => `0x${decimalNum.toString(16)}`;\n\nexport const formatOutput = (item) => item || '-';\n\nexport const formatNumber = (num, formatString = '0,0[.]00') => {\n  if (!num || parseFloat(num) === 0) {\n    return '-';\n  }\n  return numeral(num).format(formatString);\n};\n\nexport const safeBigNumberToNumber = (bigNumber) => {\n  if (bigNumber.gt(Number.MAX_SAFE_INTEGER - 1)) {\n    return Number.MAX_SAFE_INTEGER;\n  }\n  return bigNumber.toNumber();\n};\n\nexport const getOrdinal = (n) => {\n  let ord = 'th';\n\n  if (n % 10 === 1 && n % 100 !== 11) {\n    ord = 'st';\n  } else if (n % 10 === 2 && n % 100 !== 12) {\n    ord = 'nd';\n  } else if (n % 10 === 3 && n % 100 !== 13) {\n    ord = 'rd';\n  }\n\n  return ord;\n};\n","export const MOBILE_BREAK_POINT = 768;\n\nexport const WEBSITE_URL = 'https://horizon.zebec.io/';\n\nexport const DEFAULT_REFERRAL_CODE = 'MAXS1KS7';\n\nexport const NFT_TYPE = {\n  ZEPOCH: 'Zepoch Node',\n  THEMIS: 'Themis Gavel',\n};\n\nexport const PHASE_1_NFT_AMOUNT = 288;\n\nexport const TOTAL_NFT_AMOUNT = 30000;\n\nexport const ZPOINTSTATISTIC_POINT_KEYS = [\n  'zPointViaPurchase',\n  'zPointViaReferral',\n  'zPointViaBonus',\n];\n\n// timestamps\nexport const WHITELIST_START_TIMESTAMP = 1664802000; // 10/3 13:00 UTC\nexport const WHITELIST_END_TIMESTAMP = 1665493200; // 10/11 13:00 UTC\n\nexport const SINGLE_TRANSACTION_NFT_LIMIT = 50;\n","import { WEBSITE_URL } from './misc';\n\nexport const WALLET_TYPE = {\n  METAMASK: 'metamask',\n  TRUST: 'trust',\n  COINBASE: 'coinbase',\n  BINANCE: 'binance',\n  TOKENPOCKET: 'tokenPocket',\n  SAFEPAL: 'safepal',\n  IMTOKEN: 'imtoken',\n  COIN98: 'coin98',\n  ONTO: 'onto',\n  CLOVER: 'clover',\n  WALLETCONNECT: 'walletConnect',\n};\n\nexport const WALLET_INFO = {\n  [WALLET_TYPE.METAMASK]: {\n    name: 'MetaMask',\n    link: `https://metamask.app.link/dapp/${WEBSITE_URL}`,\n  },\n  [WALLET_TYPE.TRUST]: {\n    name: 'Trust',\n    link: `https://link.trustwallet.com/open_url?coin_id=60&url=${WEBSITE_URL}`,\n  },\n  [WALLET_TYPE.COINBASE]: {\n    name: 'Coinbase',\n    link: `https://go.cb-w.com/dapp?cb_url=${WEBSITE_URL}`,\n  },\n  [WALLET_TYPE.BINANCE]: {\n    name: 'Binance',\n    link: `https://link.trustwallet.com/open_url?coin_id=60&url=${WEBSITE_URL}`,\n  },\n  [WALLET_TYPE.TOKENPOCKET]: {\n    name: 'TokenPocket',\n    link: 'https://www.tokenpocket.pro/',\n  },\n  [WALLET_TYPE.SAFEPAL]: {\n    name: 'SafePal',\n    link: 'https://safepal.io/',\n  },\n  [WALLET_TYPE.IMTOKEN]: {\n    name: 'imToken',\n    link: `imtokenv2://navigate/DappView?url=${WEBSITE_URL}`,\n  },\n  [WALLET_TYPE.COIN98]: {\n    name: 'Coin98',\n    link: 'https://coin98.com/',\n  },\n  [WALLET_TYPE.ONTO]: {\n    name: 'ONTO',\n    link: 'https://onto.app/',\n  },\n  [WALLET_TYPE.CLOVER]: {\n    name: 'Clover',\n    link: 'https://clv.org/',\n  },\n  [WALLET_TYPE.WALLETCONNECT]: {\n    name: 'WalletConnect',\n    link: 'https://walletconnect.com/',\n  },\n};\n\nexport const SUPPORTTED_WALLET = [\n  WALLET_TYPE.METAMASK,\n  WALLET_TYPE.TRUST,\n  WALLET_TYPE.IMTOKEN,\n  WALLET_TYPE.TOKENPOCKET,\n  WALLET_TYPE.WALLETCONNECT,\n];\n","export const CHAINS = {\n  BSC: {\n    name: 'BNB Smart Chain Mainnet',\n    chain: 'BSC',\n    rpc: [\n      'https://bsc-dataseed1.binance.org',\n      'https://bsc-dataseed2.binance.org',\n      'https://bsc-dataseed3.binance.org',\n      'https://bsc-dataseed4.binance.org',\n      'https://bsc-dataseed1.defibit.io',\n      'https://bsc-dataseed2.defibit.io',\n      'https://bsc-dataseed3.defibit.io',\n      'https://bsc-dataseed4.defibit.io',\n      'https://bsc-dataseed1.ninicoin.io',\n      'https://bsc-dataseed2.ninicoin.io',\n      'https://bsc-dataseed3.ninicoin.io',\n      'https://bsc-dataseed4.ninicoin.io',\n      'wss://bsc-ws-node.nariox.org',\n    ],\n    faucets: ['https://free-online-app.com/faucet-for-eth-evm-chains/'],\n    nativeCurrency: {\n      name: 'Binance Chain Native Token',\n      symbol: 'BNB',\n      decimals: 18,\n    },\n    infoURL: 'https://www.binance.org',\n    shortName: 'bsc',\n    chainId: 56,\n    networkId: 56,\n    slip44: 714,\n    explorers: [{ name: 'bscscan', url: 'https://bscscan.com', standard: 'EIP3091' }],\n  },\n  BSC_TEST: {\n    name: 'Binance Smart Chain Testnet',\n    chain: 'BSC',\n    rpc: [\n      // 'https://data-seed-prebsc-1-s1.binance.org:8545',\n      // 'https://data-seed-prebsc-2-s1.binance.org:8545',\n      // 'https://data-seed-prebsc-1-s2.binance.org:8545',\n      // 'https://data-seed-prebsc-2-s2.binance.org:8545',\n      'https://data-seed-prebsc-1-s3.binance.org:8545',\n      // 'https://data-seed-prebsc-2-s3.binance.org:8545',\n    ],\n    faucets: ['https://testnet.binance.org/faucet-smart'],\n    nativeCurrency: {\n      name: 'Binance Chain Native Token',\n      symbol: 'tBNB',\n      decimals: 18,\n    },\n    infoURL: 'https://testnet.binance.org/',\n    shortName: 'bnbt',\n    chainId: 97,\n    networkId: 97,\n    explorers: [\n      {\n        name: 'bscscan-testnet',\n        url: 'https://testnet.bscscan.com',\n        standard: 'EIP3091',\n      },\n    ],\n  },\n  OEC: {\n    name: 'OKXChain Mainnet',\n    chain: 'okexchain',\n    rpc: ['https://exchainrpc.okex.org'],\n    faucets: ['https://free-online-app.com/faucet-for-eth-evm-chains/'],\n    nativeCurrency: {\n      name: 'OKExChain Global Utility Token',\n      symbol: 'OKT',\n      decimals: 18,\n    },\n    infoURL: 'https://www.okex.com/okexchain',\n    shortName: 'okt',\n    chainId: 66,\n    networkId: 66,\n    explorers: [\n      {\n        name: 'OKLink',\n        url: 'https://www.oklink.com/okexchain',\n        standard: 'EIP3091',\n      },\n    ],\n  },\n};\n","import React, { useState, useEffect, useContext, createContext, useCallback } from 'react';\nimport { message } from 'antd';\nimport detectEthereumProvider from '@metamask/detect-provider';\nimport PropTypes from 'prop-types';\nimport { ethers } from 'ethers';\nimport WalletConnectProvider from '@walletconnect/web3-provider';\n\nimport { toHex } from '../utils/utils';\nimport { WALLET_INFO, WALLET_TYPE } from '../constants/wallets';\nimport { CHAINS } from '../constants/chains';\n\nconst TARGET_CHAIN = process.env.REACT_APP_DEV_CONTRACT ? CHAINS.BSC_TEST : CHAINS.BSC;\n\nconst DEFAULT_RPC = TARGET_CHAIN.rpc[0];\n\nconst walletContext = createContext();\n\nexport const useWallet = () => useContext(walletContext);\n\n// Provider hook that creates auth object and handles state\nfunction useProvideWallet() {\n  const [account, setAccount] = useState(null);\n  const [ethersProvider, setEthersProvider] = useState(\n    new ethers.providers.JsonRpcProvider(DEFAULT_RPC),\n  );\n  const [walletMenuVisible, setWalletMenuVisible] = useState(false);\n\n  const toggleWalletMenuVisible = () => {\n    setWalletMenuVisible((prev) => !prev);\n  };\n\n  const resetDefault = useCallback(() => {\n    setAccount(null);\n    setEthersProvider(new ethers.providers.JsonRpcProvider(DEFAULT_RPC));\n    sessionStorage.removeItem('wallet');\n    window.location.reload();\n  }, []);\n\n  const disconnect = async () => {\n    if (ethersProvider?.provider?.disconnect) {\n      await ethersProvider.provider.disconnect();\n    } else {\n      resetDefault();\n    }\n  };\n\n  // connect to chain\n  const connect = useCallback(\n    async (wallet = WALLET_TYPE.METAMASK) => {\n      // helper: verify current chain with target\n      const verifyChain = async (provider) => {\n        // const chainId = parseInt(await provider.request({ method: 'eth_chainId' }), 16);\n        const chainId = Number(await provider.request({ method: 'eth_chainId' }));\n        // console.log('current chainId:', chainId);\n        return chainId === TARGET_CHAIN.chainId;\n      };\n      // handle chain change\n      const handleChainChanged = async (provider) => {\n        // add/switch chain to target chain\n        const chainVerified = await verifyChain(provider);\n        if (!chainVerified) {\n          const networkData = {\n            chainId: toHex(TARGET_CHAIN.chainId),\n            chainName: TARGET_CHAIN.name,\n            nativeCurrency: TARGET_CHAIN.nativeCurrency,\n            rpcUrls: TARGET_CHAIN.rpc,\n            blockExplorerUrls: [TARGET_CHAIN.explorers[0].url],\n          };\n          console.log('networkData', networkData);\n\n          try {\n            await provider.request({\n              method: 'wallet_switchEthereumChain',\n              params: [{ chainId: toHex(TARGET_CHAIN.chainId) }],\n            });\n          } catch (switchError) {\n            console.log('switchError', switchError);\n            // This error code indicates that the chain has not been added to MetaMask.\n            if (switchError.code === 4902) {\n              try {\n                await provider.request({\n                  method: 'wallet_addEthereumChain',\n                  params: [networkData],\n                });\n              } catch (addError) {\n                // handle \"add\" error\n                console.log('addError', addError);\n              }\n            }\n            // handle other \"switch\" errors\n          }\n          // verify chain switch\n          if (!(await verifyChain(provider))) {\n            message.error('Chain Error.');\n            throw new Error('Chain switch failed');\n          }\n        }\n      };\n\n      try {\n        let ethereumProvider;\n        try {\n          ethereumProvider = await detectEthereumProvider({ timeout: 1000 });\n        } catch (err) {\n          console.error(err);\n        }\n        // handle multi wallets\n        let provider;\n        switch (wallet) {\n          case WALLET_TYPE.WALLETCONNECT:\n            provider = new WalletConnectProvider({\n              rpc: {\n                [TARGET_CHAIN.chainId]: DEFAULT_RPC,\n              },\n              chainId: TARGET_CHAIN.chainId,\n              // network: 'binance',\n            });\n            //  Enable session (triggers QR Code modal)\n            try {\n              await provider.enable();\n            } catch (err) {\n              console.log(err);\n            }\n            break;\n          case WALLET_TYPE.ONTO:\n            provider = window.onto || ethereumProvider;\n            break;\n          default:\n            provider = ethereumProvider;\n        }\n\n        // handle no provider\n        if (!provider) {\n          console.log('No provider detected');\n          window.open(\n            WALLET_INFO[wallet].link,\n            '_blank', // <- This is what makes it open in a new window.\n          );\n          return;\n        }\n\n        // unlock wallet\n        try {\n          await provider.request({ method: 'eth_requestAccounts' });\n        } catch (err) {\n          console.log('eth_requestAccounts failed');\n        }\n\n        // add event listener\n        if (wallet !== WALLET_TYPE.ONTO) {\n          // listen to chainChanged\n          provider.on('chainChanged', () => {\n            window.location.reload();\n          });\n          // listen to accountsChanged\n          provider.on('accountsChanged', () => {\n            window.location.reload();\n          });\n          provider.on('disconnect', () => {\n            resetDefault();\n          });\n        }\n\n        // change chain\n        await handleChainChanged(provider);\n        // set ethersProvider\n        setEthersProvider(new ethers.providers.Web3Provider(provider));\n\n        // set auto connect\n        sessionStorage.wallet = wallet;\n      } catch (err) {\n        console.error(err);\n      }\n    },\n    [resetDefault],\n  );\n\n  useEffect(() => {\n    if (sessionStorage.wallet) {\n      connect(sessionStorage.wallet);\n    }\n  }, [connect]);\n\n  useEffect(() => {\n    let isMounted = true;\n    const getAccounts = async () => {\n      let tempAccount = null;\n      if (ethersProvider instanceof ethers.providers.Web3Provider) {\n        try {\n          const accounts = await ethersProvider.send('eth_accounts', []);\n          if (accounts.length !== 0) {\n            tempAccount = accounts[0].toLowerCase();\n          }\n        } catch (err) {\n          console.error('noWalletConnected', err);\n        }\n      }\n      if (isMounted) {\n        setAccount(tempAccount);\n      }\n    };\n    getAccounts();\n    return () => {\n      isMounted = false;\n    };\n  }, [ethersProvider]);\n\n  return {\n    account,\n    connect,\n    disconnect,\n    ethersProvider,\n    walletMenuVisible,\n    toggleWalletMenuVisible,\n  };\n}\n\nexport function ProvideWallet({ children }) {\n  const wallet = useProvideWallet();\n  return <walletContext.Provider value={wallet}>{children}</walletContext.Provider>;\n}\n\nProvideWallet.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { LoadingOutlined } from '@ant-design/icons';\n\nimport styles from './CustomButton.module.scss';\n\nconst CustomButton = (props) => {\n  const { className, children, onClick, secondary, gray, loading, disabled, rounded } = props;\n  return (\n    <div\n      className={classNames(\n        styles.CustomButton,\n        className,\n        { [styles.secondary]: secondary },\n        { [styles.gray]: gray },\n        { [styles.disabled]: disabled },\n        { [styles.loading]: loading },\n        { [styles.rounded]: rounded },\n      )}\n      onClick={onClick}>\n      {children}\n      {loading && !disabled && (\n        <>\n          &nbsp;\n          <LoadingOutlined />\n        </>\n      )}\n    </div>\n  );\n};\n\nCustomButton.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node,\n  onClick: PropTypes.func,\n  secondary: PropTypes.bool,\n  gray: PropTypes.bool,\n  loading: PropTypes.bool,\n  disabled: PropTypes.bool,\n  rounded: PropTypes.bool,\n};\n\nCustomButton.defaultProps = {\n  className: '',\n  children: null,\n  onClick: () => {},\n  secondary: false,\n  gray: false,\n  loading: false,\n  disabled: false,\n  rounded: false,\n};\n\nexport default CustomButton;\n","import { useRef, useEffect } from 'react';\n\nexport const useIsMounted = () => {\n  const isMounted = useRef(false);\n\n  useEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  return isMounted;\n};\n","import { createContext, useContext, useEffect, useMemo, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Contract, ethers } from 'ethers';\n\nimport { useIsMounted } from '../hooks/useIsMounted';\nimport { useWallet } from './wallet-context';\nimport { ADDRESSES } from '../constants/addresses';\nimport ZHNameServiceInterface from '../abis/ZHNameServiceInterface.json';\n\nexport const useNameserviceContract = () => {\n  const { ethersProvider } = useWallet();\n  return useMemo(() => {\n    if (!ethersProvider) {\n      return null;\n    }\n    return new Contract(ADDRESSES.NAMESERVICE, ZHNameServiceInterface.abi, ethersProvider);\n  }, [ethersProvider]);\n};\n\nconst nameserviceContext = createContext();\n\nexport const useNameservice = () => useContext(nameserviceContext);\n\nconst decodeSingleEntries = (records) =>\n  records.reduce(\n    (accum, item) => ({ ...accum, [ethers.utils.parseBytes32String(item.name)]: item.addr }),\n    {},\n  );\n\nconst useProvideNameservice = () => {\n  const [addresses, setAddresses] = useState({});\n  const nameserviceContract = useNameserviceContract();\n  const isMounted = useIsMounted();\n\n  useEffect(() => {\n    const fetchAddresses = async () => {\n      if (!nameserviceContract) {\n        return;\n      }\n      try {\n        const singleEntries = await nameserviceContract.listSingleEntries();\n        const decodedSingleEntries = decodeSingleEntries(singleEntries);\n        if (isMounted.current) {\n          setAddresses(decodedSingleEntries);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchAddresses();\n  }, [isMounted, nameserviceContract]);\n\n  return { ...addresses };\n};\n\nexport const ProvideNameservice = ({ children }) => {\n  const addresses = useProvideNameservice();\n  return <nameserviceContext.Provider value={addresses}>{children}</nameserviceContext.Provider>;\n};\n\nProvideNameservice.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import { useCallback, useMemo, useReducer } from 'react';\nimport { Contract, ethers } from 'ethers';\nimport { message } from 'antd';\n\nimport { useTranslation } from 'react-i18next';\nimport { useWallet } from '../store/wallet-context';\n\nimport { ADDRESSES, CONTRACT_NAME } from '../constants/addresses';\nimport { useNameservice } from '../store/nameservice-context';\n\nimport HERC20Interface from '../abis/HERC20Interface.json';\nimport HERC721IMInterface from '../abis/HERC721IMInterface.json';\nimport InvitationCenterInterface from '../abis/InvitationCenterInterface.json';\nimport ZHManagerInterface from '../abis/ZHManagerInterface.json';\nimport MULTICALL_ABI from '../abis/multicall.json';\nimport { useIsMounted } from './useIsMounted';\nimport { FETCH_STATE, readContractReducer } from '../utils/utils';\n\nexport const useMulticallContract = () => {\n  const { ethersProvider } = useWallet();\n  return useMemo(() => {\n    if (!ethersProvider) {\n      return null;\n    }\n    return new Contract(ADDRESSES.MULTICALL, MULTICALL_ABI.abi, ethersProvider);\n  }, [ethersProvider]);\n};\n\nexport const useManagerContract = () => {\n  const { ethersProvider, account } = useWallet();\n  const { [CONTRACT_NAME.Manager]: addr } = useNameservice();\n  return useMemo(() => {\n    if (!(ethersProvider && addr)) {\n      return null;\n    }\n    return account\n      ? new Contract(addr, ZHManagerInterface.abi, ethersProvider.getSigner())\n      : new Contract(addr, ZHManagerInterface.abi, ethersProvider);\n  }, [account, ethersProvider, addr]);\n};\n\nexport const useInvitationCenterContract = () => {\n  const { ethersProvider, account } = useWallet();\n  const { [CONTRACT_NAME.InvitationCenter]: addr } = useNameservice();\n  return useMemo(() => {\n    if (!(ethersProvider && addr)) {\n      return null;\n    }\n    return account\n      ? new Contract(addr, InvitationCenterInterface.abi, ethersProvider.getSigner())\n      : new Contract(addr, InvitationCenterInterface.abi, ethersProvider);\n  }, [account, ethersProvider, addr]);\n};\n\nexport const useThemisGavelContract = () => {\n  const { ethersProvider, account } = useWallet();\n  const { [CONTRACT_NAME.ThemisGavel]: addr } = useNameservice();\n  return useMemo(() => {\n    if (!(ethersProvider && addr)) {\n      return null;\n    }\n    return account\n      ? new Contract(addr, HERC721IMInterface.abi, ethersProvider.getSigner())\n      : new Contract(addr, HERC721IMInterface.abi, ethersProvider);\n  }, [account, ethersProvider, addr]);\n};\n\nexport const useZepochNodeContract = () => {\n  const { ethersProvider, account } = useWallet();\n  const { [CONTRACT_NAME.ZepochNode]: addr } = useNameservice();\n  return useMemo(() => {\n    if (!(ethersProvider && addr)) {\n      return null;\n    }\n    return account\n      ? new Contract(addr, HERC721IMInterface.abi, ethersProvider.getSigner())\n      : new Contract(addr, HERC721IMInterface.abi, ethersProvider);\n  }, [account, ethersProvider, addr]);\n};\n\nexport const useERC20Contract = (address) => {\n  const { ethersProvider, account } = useWallet();\n  return useMemo(() => {\n    if (!(ethersProvider && ethers.utils.isAddress(address))) {\n      return null;\n    }\n    return account\n      ? new Contract(address, HERC20Interface.abi, ethersProvider.getSigner())\n      : new Contract(address, HERC20Interface.abi, ethersProvider);\n  }, [ethersProvider, address, account]);\n};\n\nexport const useZPointContract = () => {\n  const { ethersProvider, account } = useWallet();\n  const { [CONTRACT_NAME.ZPoint]: addr } = useNameservice();\n  return useMemo(() => {\n    if (!(ethersProvider && addr)) {\n      return null;\n    }\n    return account\n      ? new Contract(addr, HERC20Interface.abi, ethersProvider.getSigner())\n      : new Contract(addr, HERC20Interface.abi, ethersProvider);\n  }, [account, ethersProvider, addr]);\n};\n\nexport const useContract = (contract, methodName, decoder = null, initValue = null) => {\n  const [state, dispatch] = useReducer(readContractReducer, {\n    isLoading: false,\n    isError: false,\n    data: initValue,\n  });\n  const isMounted = useIsMounted();\n  const { t } = useTranslation();\n\n  const read = useCallback(\n    async (args = [], overrides = {}) => {\n      try {\n        if (!(contract && methodName && args instanceof Array)) {\n          return;\n        }\n        dispatch({ type: FETCH_STATE.INIT });\n        const data = await contract[methodName](...args, overrides);\n        if (isMounted.current) {\n          dispatch({ type: FETCH_STATE.SUCCESS, payload: decoder ? decoder(data) : data });\n        }\n      } catch (error) {\n        console.log(error);\n        if (isMounted.current) {\n          dispatch({ type: FETCH_STATE.FAILURE });\n        }\n      }\n    },\n    [contract, isMounted, methodName, decoder],\n  );\n\n  const write = useCallback(\n    async (args = [], overrides = {}) => {\n      try {\n        if (!(contract && methodName)) {\n          return;\n        }\n        dispatch({ type: FETCH_STATE.INIT });\n        const tx = await contract[methodName](...args, overrides);\n        message.info(t('Request sent', 'Request sent'));\n        console.log('tx', tx);\n        const receipt = await tx.wait();\n        message.success(t('Transaction completed', 'Transaction completed'));\n        console.log('receipt', receipt);\n        if (isMounted.current) {\n          dispatch({ type: FETCH_STATE.SUCCESS, payload: null });\n        }\n      } catch (error) {\n        console.log(error);\n        message.error(t('Transaction failed', 'Transaction failed'));\n        if (isMounted.current) {\n          dispatch({ type: FETCH_STATE.FAILURE });\n        }\n        throw error;\n      }\n    },\n    [contract, isMounted, methodName, t],\n  );\n\n  return { state, read, write };\n};\n","import { createContext, useContext, useEffect, useState } from 'react';\nimport { PropTypes } from 'prop-types';\n\nconst updateContext = createContext();\n\nexport const useUpdate = () => useContext(updateContext);\n\nconst useProvideUpdate = () => {\n  const [timer, setTimer] = useState();\n\n  useEffect(() => {\n    let isMounted = true;\n    const timerId = setInterval(() => {\n      if (isMounted) setTimer(Date.now());\n    }, 5000);\n    return () => {\n      isMounted = false;\n      clearInterval(timerId);\n    };\n  }, []);\n\n  return { updateByTimer: timer };\n};\n\nexport function ProvideUpdate({ children }) {\n  const update = useProvideUpdate();\n  return <updateContext.Provider value={update}>{children}</updateContext.Provider>;\n}\nProvideUpdate.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import { ethers } from 'ethers';\nimport { useCallback, useEffect } from 'react';\nimport { DEFAULT_REFERRAL_CODE } from '../constants/misc';\nimport { useWallet } from '../store/wallet-context';\nimport { useContract, useInvitationCenterContract } from './useContract';\nimport { useUpdate } from './useUpdate';\n\nexport const useIsRegistered = (address = null) => {\n  const invitationContract = useInvitationCenterContract();\n  const { account } = useWallet();\n  const { updateByTimer } = useUpdate();\n  const { state, read } = useContract(invitationContract, 'isRegistered', null, false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!(invitationContract && ((address && ethers.utils.isAddress(address)) || account))) {\n        return;\n      }\n      read([address || account]);\n    };\n    fetchData();\n  }, [invitationContract, account, address, updateByTimer, read]);\n\n  return state;\n};\n\nexport const useRegisteredInvitationCodeContains = () => {\n  const invitationContract = useInvitationCenterContract();\n\n  const isValidInvitation = async (code) => {\n    if (!(code && DEFAULT_REFERRAL_CODE)) {\n      return false;\n    }\n    try {\n      const result = await invitationContract.registeredInvitationCodeContains(\n        ethers.utils.formatBytes32String(code),\n      );\n      return DEFAULT_REFERRAL_CODE === code || result;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  };\n\n  return { isValidInvitation };\n};\n\nexport const useInviterRecords = (address = null) => {\n  const decodeInviterRecords = useCallback(\n    (record) => ({\n      who: record.who,\n      inviter: record.inviter,\n      // padding with 28 zero bytes\n      invitationCode: ethers.utils.parseBytes32String(record.invitationCode),\n    }),\n    [],\n  );\n\n  const toNumber = useCallback((number) => number.toNumber(), []);\n\n  const invitationContract = useInvitationCenterContract();\n  const { account } = useWallet();\n  const { updateByTimer } = useUpdate();\n\n  const { state: inviterRecords, read: readInviterRecords } = useContract(\n    invitationContract,\n    'inviterRecords',\n    decodeInviterRecords,\n    {},\n  );\n  const { state: inviteeRecordsLength, read: readInviteeRecordsLength } = useContract(\n    invitationContract,\n    'inviteeRecordsLength',\n    toNumber,\n    0,\n  );\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!(invitationContract && ((address && ethers.utils.isAddress(address)) || account))) {\n        return;\n      }\n      readInviterRecords([address || account]);\n      readInviteeRecordsLength([address || account]);\n    };\n    fetchData();\n  }, [\n    invitationContract,\n    account,\n    address,\n    updateByTimer,\n    readInviterRecords,\n    readInviteeRecordsLength,\n  ]);\n\n  return { inviterRecords, inviteeRecordsLength };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport classNames from 'classnames';\nimport { Col, Row, message } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { useWallet } from '../../store/wallet-context';\nimport CustomButton from '../UI/CustomButton/CustomButton';\nimport { SUPPORTTED_WALLET, WALLET_INFO } from '../../constants/wallets';\nimport { useInviterRecords } from '../../hooks/useInvitationCenter';\n\nimport styles from './WalletMenu.module.scss';\n\nconst WalletMenu = (props) => {\n  const { className } = props;\n  const { walletMenuVisible, toggleWalletMenuVisible, connect, account, disconnect } = useWallet();\n  const { inviterRecords } = useInviterRecords();\n  const { t } = useTranslation();\n\n  const {\n    data: { invitationCode },\n  } = inviterRecords;\n\n  const handleConnectWallet = (walletType) => {\n    toggleWalletMenuVisible();\n    connect(walletType);\n  };\n\n  const getConnectMenu = () => (\n    <div\n      className={classNames(styles.WalletMenu, className, {\n        [styles.visible]: walletMenuVisible,\n      })}>\n      <h2 className={styles.title}>\n        {t('Select a wallet to continue', 'Select a wallet to continue')}\n      </h2>\n      <Row gutter={[16, 16]}>\n        {SUPPORTTED_WALLET.map((item) => (\n          <Col span={12} key={item}>\n            <div\n              className={styles.MenuItem}\n              onClick={() => {\n                handleConnectWallet(item);\n              }}>\n              <img src={`/static/images/Wallets/${item}.png`} alt={item} />\n              <h2>{WALLET_INFO[item].name}</h2>\n            </div>\n          </Col>\n        ))}\n      </Row>\n    </div>\n  );\n\n  const getDisconnectMenu = () => (\n    <div\n      className={classNames(styles.WalletMenu, styles.disconnectMenu, className, {\n        [styles.visible]: walletMenuVisible,\n      })}>\n      <h2 className={styles.title}> {t('Connected Wallet', 'Connected Wallet')}</h2>\n      {!!invitationCode && (\n        <>\n          <CustomButton rounded gray>\n            {invitationCode}\n          </CustomButton>\n          <CopyToClipboard\n            text={invitationCode}\n            onCopy={() => {\n              message.success(t('Referral Code Copied', 'Referral Code Copied'));\n            }}>\n            <CustomButton rounded>Copy Referral Code</CustomButton>\n          </CopyToClipboard>\n        </>\n      )}\n      <h2\n        className={styles.disconnectButton}\n        onClick={() => {\n          toggleWalletMenuVisible();\n          disconnect();\n        }}>\n        {t('Disconnect', 'Disconnect')}\n      </h2>\n    </div>\n  );\n\n  return (\n    <>\n      <div\n        className={classNames(styles.backdrop, { [styles.visible]: walletMenuVisible })}\n        onClick={toggleWalletMenuVisible}\n      />\n      {account ? getDisconnectMenu() : getConnectMenu()}\n    </>\n  );\n};\n\nWalletMenu.propTypes = {\n  className: PropTypes.string,\n};\n\nWalletMenu.defaultProps = {\n  className: '',\n};\n\nexport default WalletMenu;\n","import React from 'react';\nimport styles from './Proposals.module.scss';\n\nconst Proposal0 = () => (\n  <div className={styles.proposal}>\n    <h1>Zebec Improvement Proposal 1 (ZIP-1)</h1>\n    <h2>\n      <i>ZIP-1: Nautilus Chain (or Naut Chain)</i>\n    </h2>\n    <hr />\n    <h3>Summary</h3>\n    <p>\n      A year after initially launching as a Solana native app, the Zebec team has been able to\n      expand the reach of its product by successfully deploying on the BNB and NEAR blockchains.\n    </p>\n    <p>\n      With ambitious plans of continuing offering Payroll tools and infrastructure to as many\n      companies/protocols/funds as possible, we have decided to adopt a long term plan that would\n      ultimately benefit the Zebec ecosystem and its core product. Last year’s proliferation of\n      languages, VMs and scaling solutions have given us the confidence in the decision of gaining\n      more flexibility by launching our own app-chain. The community believes that the best way to\n      spearhead this initiative is by launching a staging chain serving as a testnet that will\n      consolidate consensus and cultivate a preliminary ecosystem. The Staging chain will be a way\n      to soft launch and progressively roll-out the Zebec app chain into the wild on mainnet.\n    </p>\n    <p>\n      The community believes that it is time to move forward with plans to launch its own app chain\n      by deploying a staging chain that will consolidate consensus and cultivate a preliminary\n      ecosystem. This move will prepare the Zebec app chain for a successful launch in the future.\n    </p>\n    <hr />\n    <h3>Abstract</h3>\n    <p>\n      In this proposal, the community will deploy a “staging chain” called Nautilus on mainnet to\n      prepare for what will become the Zebec Chain. Nautilus will use $ZBC for gas fees, for\n      governance and securing the network (PoS). Existing ecosystem partners can deploy on Nautilus\n      and validators will be paid in ecosystem project tokens. We expect dApps to quickly start\n      deploying on Nautilus, drawn from the pool of partners that already use the Zebec Protocol.\n    </p>\n    <p>\n      Projects and partners wanting to deploy on Nautilus will have to pay for security in their own\n      native token. Validators that are participating in the Nautilus network will therefore receive\n      part of their yield as native tokens from these projects. We expect 20+ ecosystem dApps to\n      quickly deploy their code on Nautilus; many of these projects come from a pool of partners\n      already affiliated with Zebec.\n    </p>\n    <p>\n      Nautilus will be the first general purpose L3 EVM chain in web3, featuring a modular\n      architecture, instead of a monolithic one. In a monolithic chain, functions like transaction\n      execution, settlement, data availability, and consensus are all handled together on the same\n      chain. But in a modular design, like Nautilus, each of those functions is split and handled on\n      separate layers that can be optimized according to developer needs.\n    </p>\n    <p>\n      With Nautilus, developers can choose between various L1s for data availability and consensus,\n      including Celestia, Cosmos, or Ethereum. For the transaction execution layer, they can choose\n      between using the EVM, Solana VM, and Move, with others to follow.\n    </p>\n    <p>\n      The execution layer, however, is a little different. Developers will be able to deploy modular\n      rollup chains for their apps, also known as app-specific rollups. This is the “L3” part of\n      Nautilus, and will give developers scalability that surpasses any other L1 or L2 chain. It\n      will also allow them to balance decentralization, throughput and speed as they wish.\n    </p>\n    <hr />\n    <h3>Rationale — Why is it Important?</h3>\n    <p>\n      Web3 needs a new type of L1 chain.Teams and developers need more flexibility when choosing how\n      to design and deploy their app. Nautilus, and later the Zebec Chain, which will be the L1 to\n      solve some of the problems with current Web3 blockchains such lack of throughput and limited\n      programming flexibility.\n    </p>\n    <p>\n      Nautilus is a new type of chain: a general purpose L3. It allows developers to choose which VM\n      they want to use for data storage and finality, whether it’s Ethereum’s, Cosmos’, or Solana’s\n      VM. Nautilus functions as a scaling layer for these VMs. Developers can also deploy\n      app-specific chains on Nautilus for maximum programming flexibility and transaction\n      throughput.\n    </p>\n    <p>\n      One way to think of Nautilus, and the Zebec Chain, is as a general purpose EVM L3. Whatever\n      apps a developer builds, they can also use Nautilus for scalability, and create their own\n      dappsr on top.\n    </p>\n\n    <p>\n      Because of its unique and experimental structure, it solves the biggest problems facing\n      current blockchains. Scalability won’t be a problem, and a modular structure means they won’t\n      be crippled if one layer suffers an outage. Because Nautilus initially uses Optimistic and\n      will later expand to ZK rollup technology on the execution layer, it may even be able to\n      provide privacy not offered by other chains.\n    </p>\n\n    <p>\n      This proposal has been put forward by the Zebec DAO as a community-driven social experiment.\n      It will help pioneer new systems, methods, and technology for blockchains and change how Web3\n      processes transactions.\n    </p>\n    <p>\n      Because the concept is novel, we want to deploy Nautilus to mainnet as a soft opening before\n      fully deploying the Zebec Chain later in Q4 of 2023.\n    </p>\n    <hr />\n    <h3>Motivation</h3>\n    <p>There are four motivations behind creating Nautilus Chain:</p>\n    <ol>\n      <li>\n        <p>\n          Zebec Protocol has many ecosystem partners. This will make it easy to start onboarding\n          dApps into the Nautilus Chain, and start building the Nautilus ecosystem.\n        </p>\n      </li>\n      <li>\n        <p>\n          We want ecosystem partners that take part in building on Nautilus Chain to give out and\n          distribute a small percentage of their tokens to incentivize token stakers.\n        </p>\n      </li>\n      <li>\n        <p>\n          The creation of Nautilus will function as a soft launch for the Zebec Chain. Due to the\n          various novel features involved, an initial soft launch is the best way to guarantee a\n          smooth transition to a fully operational chain later this year.\n        </p>\n      </li>\n      <li>\n        <p>Finally, we want to enhance the value accrual of ZBC for holders.</p>\n      </li>\n    </ol>\n    <hr />\n    <h3>Specifications</h3>\n    <ol>\n      <li>\n        <p>\n          <b>Ecosystem Token Mechanism:</b> This chain will use Zebec’s token ($ZBC), and will adopt\n          Zebec token mechanics. Tokenomics.\n          <b> * Validators will earn rewards from ecosystem projects</b> along with ZBC tokens.\n        </p>\n      </li>\n      <li>\n        <p>\n          <b>Zebec Gas Distributions: </b> For the first year, 50% of the transaction gas will go\n          back to Zepoch validator node holders, 25% will be burned, and an additional 25% will go\n          back to the foundation to further advance and support the research of Zebec Protocol and\n          its ecosystem.\n        </p>\n        <p>\n          Because it is a modular chain, users will be able to choose whether they want to pay gas\n          in ZBC or ETH. For the first 100 million transactions on the chain, gas paid in ZBC will\n          be 10x cheaper than gas paid in ETH. Specifically, transaction gas paid in ZBC will cost\n          only 0.01 ZBC instead of 0.1 ZBC worth of ETH.\n        </p>\n        <p>\n          After the first 100 million transactions, gas will increase exponentially, as the chain\n          becomes more popular and the price of ZBC increases. However, the gas will be capped at no\n          more than $0.01 USD (1 cent) worth of ZBC.\n        </p>\n        <img src=\"/static/images/Proposals/proposal0/gasPiecewise.png\" alt=\"gas\" />\n        <p>\n          If the Nautilus Chain reaches 80% of the Solana ecosystem transaction size, 80% of the\n          total supply of ZBC will be burned.\n        </p>\n      </li>\n      <li>\n        <p>\n          <b>Language:</b> Core programming will be written in Solidity.\n        </p>\n      </li>\n      <li>\n        <p>\n          <b>Initial Deployment: </b> Initially, consensus will be handled via the IBC protocol and\n          the Tendermint engine, making Nautilus immediately compatible with Cosmos ecosystem\n          blockchains.\n        </p>\n      </li>\n    </ol>\n    <div className={styles.refWrap}>\n      <h3>References:</h3>\n      <a\n        href=\"https://thesis.neworder.network/#layer-3s-will-be-the-true-competitor-to-cosmos\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\">\n        L3s will be the true competitor to Cosmos\n      </a>\n      <a\n        href=\"https://dataconomy.com/2022/05/blockchain-implementation-challenges/\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\">\n        The Toughest Challenges Blockchain Tech is Facing\n      </a>\n      <a\n        href=\"https://cointelegraph.com/news/solana-s-co-founder-addresses-the-blockchain-s-reliability-at-breakpoint\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\">\n        Reliability issues in Web3\n      </a>\n      <a\n        href=\"https://forum.zebec.io/t/zebec-improvement-proposal-1-zip-1/7\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\">\n        Forum Discussion\n      </a>\n    </div>\n  </div>\n);\n\nexport default Proposal0;\n","import { parseUnits } from 'ethers/lib/utils';\nimport Proposal0 from '../components/Vote/Proposals/Proposal0';\nimport { checkTime } from './utils';\n\nexport const PROPOSAL_INFO = {\n  0: {\n    DescComp: Proposal0,\n    author: 'Zebec Community',\n    quorum: parseUnits('732333103', 9).mul(33).div(100),\n  },\n  1: {\n    DescComp: Proposal0,\n  },\n  2: {\n    DescComp: Proposal0,\n  },\n};\n\nexport const PROPOSAL_STATE = {\n  UPCOMING: 'upcoming',\n  LIVE: 'live',\n  ENDED: 'ended',\n};\n\nexport const PROPOSAL_TYPE = {\n  COMMUNITY: 0,\n  CORE: 1,\n};\n\nexport const OPTION_COLOR = ['#59D89D', '#E05608', '#f8db67', '#f0794b', '#8ac115'];\n\nexport const getProposalState = (startTime, endTime) => {\n  if (!checkTime(startTime)) {\n    return PROPOSAL_STATE.UPCOMING;\n  }\n  if (checkTime(endTime)) {\n    return PROPOSAL_STATE.ENDED;\n  }\n  return PROPOSAL_STATE.LIVE;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { List } from 'antd';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { ethers } from 'ethers';\n\n// import PercentStackedBar from '../PercentStackedBar/PercentStackedBar';\n// import { truncAddress } from '../../../utils/utils';\nimport styles from './ProposalList.module.scss';\nimport { PROPOSAL_INFO, PROPOSAL_STATE } from '../../../utils/voteUtils';\n\nconst ProposalList = (props) => {\n  const { items } = props;\n  return (\n    <div className={styles.ProposalList}>\n      {!items || !Array.isArray(items) || items.length === 0 ? null : (\n        <List\n          dataSource={items}\n          renderItem={(item) => (\n            <List.Item>\n              <NavLink className={styles.proposalItem} to={`/governance/detail/${item.pid}`}>\n                <div className={styles.proposalContent}>\n                  <div\n                    className={classNames(styles.status, {\n                      [styles.ended]: item.state === PROPOSAL_STATE.ENDED,\n                    })}>\n                    {item.state}\n                  </div>\n                  <h1>{item.topic}</h1>\n                  <div className={styles.timeWrap}>\n                    <p className={styles.infoItem}>\n                      <span>Author:</span>\n                      {PROPOSAL_INFO[item.pid]?.author}\n                    </p>\n                  </div>\n\n                  <div className={styles.timeWrap}>\n                    <p className={styles.infoItem}>\n                      <span>Start Time:</span>\n                      {new Date(item.startTimestamp.toNumber() * 1000).toUTCString().slice(5)}\n                    </p>\n                    <p className={styles.infoItem}>\n                      <span>End Time:</span>\n                      {new Date(item.endTimestamp.toNumber() * 1000).toUTCString().slice(5)}\n                    </p>\n                    {PROPOSAL_INFO[item.pid]?.quorum && (\n                      <p className={styles.infoItem}>\n                        <span>Quorum</span>\n                        {item.optionVotes\n                          .reduce((accum, votes) => accum.add(votes), ethers.constants.Zero)\n                          .gte(PROPOSAL_INFO[item.pid]?.quorum) ? (\n                          <img src=\"/static/images/Icons/check.svg\" alt=\"pass\" />\n                        ) : (\n                          <img src=\"/static/images/Icons/cross.svg\" alt=\"not pass\" />\n                        )}\n                      </p>\n                    )}\n                  </div>\n                  {/* <div className={styles.percentBar}>\n                    <PercentStackedBar options={item.options} optionVotes={item.optionVotes} />\n                  </div> */}\n                </div>\n              </NavLink>\n            </List.Item>\n          )}\n        />\n      )}\n    </div>\n  );\n};\n\nProposalList.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  items: PropTypes.arrayOf(PropTypes.any),\n};\n\nProposalList.defaultProps = {\n  items: null,\n};\n\nexport default ProposalList;\n","import { useCallback, useEffect } from 'react';\nimport { ethers } from 'ethers';\nimport { useContract, useManagerContract } from './useContract';\nimport { useUpdate } from './useUpdate';\nimport { getProposalState } from '../utils/voteUtils';\nimport { useWallet } from '../store/wallet-context';\n\nexport const useVoteWithdrawable = (pid) => {\n  const { account } = useWallet();\n  const managerContract = useManagerContract();\n  const { updateByTimer } = useUpdate();\n  const { state, read } = useContract(\n    managerContract,\n    'voteWithdrawable',\n    null,\n    ethers.constants.Zero,\n  );\n\n  useEffect(() => {\n    const fetchData = () => {\n      if (!managerContract || !account || pid === null || pid === undefined) {\n        return;\n      }\n      read([pid, account]);\n    };\n    fetchData();\n  }, [updateByTimer, read, managerContract, pid, account]);\n  return state;\n};\n\nexport const useGetProposalsLength = () => {\n  const managerContract = useManagerContract();\n  const { updateByTimer } = useUpdate();\n  const { state, read } = useContract(\n    managerContract,\n    'getProposalsLength',\n    null,\n    ethers.constants.Zero,\n  );\n  useEffect(() => {\n    const fetchData = () => {\n      if (!managerContract) {\n        return;\n      }\n      read();\n    };\n    fetchData();\n  }, [updateByTimer, read, managerContract]);\n  return state;\n};\n\nexport const useGetProposals = () => {\n  const decodeProposals = useCallback(\n    (proposals) =>\n      proposals.map((item, index) => ({\n        ...item,\n        pid: index,\n        state: getProposalState(\n          item.startTimestamp.toNumber() * 1000,\n          item.endTimestamp.toNumber() * 1000,\n        ),\n      })),\n    [],\n  );\n\n  const { data: proposalsLength } = useGetProposalsLength();\n  const managerContract = useManagerContract();\n  const { updateByTimer } = useUpdate();\n  const { state, read } = useContract(managerContract, 'getProposals', decodeProposals, []);\n  useEffect(() => {\n    const fetchData = () => {\n      if (!managerContract || proposalsLength.eq(ethers.constants.Zero)) {\n        return;\n      }\n      read([ethers.constants.Zero, proposalsLength]);\n    };\n    fetchData();\n  }, [updateByTimer, read, managerContract, proposalsLength]);\n  return state;\n};\n\nexport const useGetVote = (pid) => {\n  const { account } = useWallet();\n  const managerContract = useManagerContract();\n  const { updateByTimer } = useUpdate();\n  const { state, read } = useContract(managerContract, 'getVote', null, []);\n  useEffect(() => {\n    const fetchData = () => {\n      if (!managerContract || pid === null || pid === undefined || !account) {\n        return;\n      }\n      read([pid, account]);\n    };\n    fetchData();\n  }, [updateByTimer, read, managerContract, pid, account]);\n  return state;\n};\n\nexport const useVote = () => {\n  const managerContract = useManagerContract();\n\n  const { state, write } = useContract(managerContract, 'vote');\n\n  const vote = async (pid, optionIndex, zebecAmount) => {\n    if (\n      !(\n        managerContract &&\n        pid !== null &&\n        optionIndex !== null &&\n        zebecAmount &&\n        zebecAmount.gt(ethers.constants.Zero)\n      )\n    ) {\n      return;\n    }\n    await write([pid, optionIndex, zebecAmount]);\n  };\n\n  return { state, vote };\n};\n\nexport const useVoteWithdraw = () => {\n  const managerContract = useManagerContract();\n\n  const { state, write } = useContract(managerContract, 'voteWithdraw');\n\n  const voteWithdraw = async (pid) => {\n    if (!(managerContract && pid !== null)) {\n      return;\n    }\n    await write([pid]);\n  };\n\n  return { state, voteWithdraw };\n};\n","import React, { useEffect, useState, useMemo } from 'react';\nimport { Route, Switch, useRouteMatch, NavLink, Redirect } from 'react-router-dom';\nimport classnames from 'classnames';\nimport ProposalList from '../../components/Vote/ProposalList/ProposalList';\nimport styles from './Vote.module.scss';\nimport { useGetProposals } from '../../hooks/useVote';\nimport { PROPOSAL_STATE } from '../../utils/voteUtils';\n\nconst Vote = () => {\n  const { path, url } = useRouteMatch();\n  const { data: proposals } = useGetProposals();\n\n  const reversedProposals = useMemo(() => proposals.slice().reverse(), [proposals]);\n  const [filteredProposals, setFilteredProposals] = useState({\n    [PROPOSAL_STATE.UPCOMING]: [],\n    [PROPOSAL_STATE.LIVE]: [],\n    [PROPOSAL_STATE.ENDED]: [],\n  });\n\n  useEffect(() => {\n    const upcoming = reversedProposals.filter((item) => item.state === PROPOSAL_STATE.UPCOMING);\n    const live = reversedProposals.filter((item) => item.state === PROPOSAL_STATE.LIVE);\n    const ended = reversedProposals.filter((item) => item.state === PROPOSAL_STATE.ENDED);\n    setFilteredProposals({\n      [PROPOSAL_STATE.UPCOMING]: upcoming,\n      [PROPOSAL_STATE.LIVE]: live,\n      [PROPOSAL_STATE.ENDED]: ended,\n    });\n  }, [reversedProposals]);\n\n  return (\n    <div className={classnames(styles.Vote)}>\n      <div className={styles.bannerWrap}>\n        <div className={styles.banner}>\n          <img className={styles.voteImg} src=\"/static/images/Vote/vote.png\" alt=\"vote\" />\n\n          <div className={styles.titleWrap}>\n            <div className={styles.titleInnerWrap}>\n              <img className={styles.voteImgMobile} src=\"/static/images/Vote/vote.png\" alt=\"vote\" />\n              <h1 className={styles.title}>Zebec Governance</h1>\n            </div>\n\n            <h2 className={styles.desc}>\n              Join the ZBC community and shape the future of the protocol by participating in\n              collective decision-making. Cast your vote or delegate to a trusted address on\n              important upgrades and proposals.\n            </h2>\n          </div>\n\n          <div className={styles.navLinkWrap}>\n            <NavLink\n              to={`${url}`}\n              className={(isActive) =>\n                classnames(styles.navLink, {\n                  [styles.navLinkActive]: isActive,\n                })\n              }\n              exact>\n              <h2>All</h2>\n            </NavLink>\n            <NavLink\n              to={`${url}/${[PROPOSAL_STATE.LIVE]}`}\n              className={(isActive) =>\n                classnames(styles.navLink, {\n                  [styles.navLinkActive]: isActive,\n                })\n              }\n              exact>\n              <h2>{PROPOSAL_STATE.LIVE}</h2>\n            </NavLink>\n            <NavLink\n              to={`${url}/${[PROPOSAL_STATE.ENDED]}`}\n              className={(isActive) =>\n                classnames(styles.navLink, {\n                  [styles.navLinkActive]: isActive,\n                })\n              }\n              exact>\n              <h2>{PROPOSAL_STATE.ENDED}</h2>\n            </NavLink>\n          </div>\n        </div>\n      </div>\n      <div className={styles.mainContent}>\n        <Switch>\n          <Route path={path} exact>\n            <ProposalList items={reversedProposals} />\n          </Route>\n          <Route path={`${path}/${[PROPOSAL_STATE.LIVE]}`} exact>\n            <ProposalList items={filteredProposals[PROPOSAL_STATE.LIVE]} />\n          </Route>\n          <Route path={`${path}/${[PROPOSAL_STATE.ENDED]}`} exact>\n            <ProposalList items={filteredProposals[PROPOSAL_STATE.ENDED]} />\n          </Route>\n          <Redirect to={path} />\n        </Switch>\n      </div>\n    </div>\n  );\n};\nexport default Vote;\n","import React from 'react';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport styles from './MainContainer.module.scss';\n\nconst MainContainer = (props) => {\n  const { className, children, style } = props;\n  return (\n    <div className={classnames(styles.MainContainer, className)} style={style}>\n      {children}\n    </div>\n  );\n};\n\nMainContainer.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node,\n  style: PropTypes.objectOf(PropTypes.string),\n};\n\nMainContainer.defaultProps = {\n  className: '',\n  children: null,\n  style: {},\n};\n\nexport default MainContainer;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Input } from 'antd';\n\n// eslint-disable-next-line no-unused-vars\nimport styles from './CustomInput.module.scss';\n\nconst CustomInput = ({ placeholder, value, onChange, disabled }) => (\n  <Input placeholder={placeholder} value={value} onChange={onChange} disabled={disabled} />\n);\n\nexport default CustomInput;\n","import React, { useMemo } from 'react';\nimport { ethers } from 'ethers';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { CheckOutlined } from '@ant-design/icons';\nimport styles from './OptionItem.module.scss';\nimport { formatNumber } from '../../../utils/utils';\n\nconst OptionItem = (props) => {\n  const { item, index, optionVotes, selectedOption, voterRecord, onClick } = props;\n\n  const { voteMax } = voterRecord;\n\n  // detect if the current option item is voted\n  const voted = useMemo(() => {\n    if (voteMax && voteMax[index].gt(0)) {\n      return true;\n    }\n    return false;\n  }, [index, voteMax]);\n\n  // calculate vote percent for background\n\n  const percent = useMemo(() => {\n    try {\n      const totalVote = optionVotes.reduce(\n        (accum, votes) => accum.add(votes),\n        ethers.constants.Zero,\n      );\n      const tempPercent = optionVotes[index].toNumber() / totalVote.toNumber();\n      return Number.isNaN(tempPercent) ? 0 : tempPercent;\n    } catch (error) {\n      return 0;\n    }\n  }, [index, optionVotes]);\n\n  return (\n    <>\n      {/* {isFinishedRecord.winIndex === index && (\n        <img className={styles.voteResult} src=\"/static/images/icon/win.png\" alt=\"win\" />\n      )} */}\n      <div\n        className={classnames(styles.OptionItem, { [styles.selected]: selectedOption === index })}\n        onClick={() => {\n          onClick(index);\n        }}>\n        <div className={classnames(styles.optionState, { [styles.voted]: voted })}>\n          {voted && <CheckOutlined style={{ color: 'black', fontSize: '20px' }} />}\n        </div>\n        <div className={styles.textWrap}>\n          <h2 className={styles.optionName}>{item}</h2>\n          <div className={styles.valueWrap}>\n            <p>{formatNumber(ethers.utils.formatUnits(optionVotes[index], 9))} ZBC</p>\n            <p className={styles.percent}>{formatNumber(percent, '0.[00]%')}</p>\n          </div>\n          <div className={styles.percentBarOutter}>\n            <div style={{ width: `${percent * 100}%` }} className={styles.percentBar} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nOptionItem.propTypes = {\n  item: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  voterRecord: PropTypes.arrayOf(PropTypes.any).isRequired,\n  selectedOption: PropTypes.number.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  optionVotes: PropTypes.arrayOf(PropTypes.any).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nOptionItem.defaultProps = {};\nexport default OptionItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal } from 'antd';\nimport classNames from 'classnames';\n\nimport styles from './CustomModal.module.scss';\n\nconst CustomModal = (props) => {\n  const { children, className, title, open, width, onCancel, showTitle, ...rest } = props;\n  return (\n    <Modal\n      wrapClassName={classNames(styles.CustomModal, className)}\n      open={open}\n      width={width}\n      onCancel={onCancel}\n      destroyOnClose\n      centered\n      closable={false}\n      footer={null}\n      maskStyle={{ backgroundColor: 'rgba(28,28,28,0.7)' }}\n      // eslint-disable-next-line\n      {...rest}>\n      {showTitle && (\n        <div className={styles.titleWrap}>\n          <h2>{title}</h2>\n          <img src=\"/static/images/Icons/close.svg\" alt=\"close\" onClick={onCancel} />\n        </div>\n      )}\n      {children}\n    </Modal>\n  );\n};\n\nCustomModal.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  title: PropTypes.string,\n  open: PropTypes.bool,\n  width: PropTypes.number,\n  onCancel: PropTypes.func,\n  showTitle: PropTypes.bool,\n};\n\nCustomModal.defaultProps = {\n  children: null,\n  className: '',\n  title: '',\n  open: false,\n  width: 450,\n  onCancel: () => {},\n  showTitle: false,\n};\n\nexport default CustomModal;\n","import { ethers } from 'ethers';\nimport { useEffect, useState, useCallback, useReducer } from 'react';\nimport {\n  useContract,\n  useERC20Contract,\n  useZepochNodeContract,\n  useZPointContract,\n} from './useContract';\nimport { useIsMounted } from './useIsMounted';\n\nimport { useWallet } from '../store/wallet-context';\nimport { useUpdate } from './useUpdate';\nimport { CONTRACT_NAME, NULL_ADDR } from '../constants/addresses';\nimport { useNameservice } from '../store/nameservice-context';\nimport { FETCH_STATE, readContractReducer } from '../utils/utils';\n\n// get balance of erc20/native token\nexport const useTokenBalance = (tokenAddress, unit = 18, accountAddress = null) => {\n  const formatUnits = useCallback(\n    (number) => Number(ethers.utils.formatUnits(number, unit)),\n    [unit],\n  );\n\n  const initValue = 0;\n  const tokenContract = useERC20Contract(tokenAddress);\n  const { state, read } = useContract(tokenContract, 'balanceOf', formatUnits, initValue);\n  const { account, ethersProvider } = useWallet();\n  const { updateByTimer } = useUpdate();\n  const isMounted = useIsMounted();\n  const isNative = parseInt(tokenAddress, 16) === 0;\n  const [nativeBalance, setNativeBalance] = useState(initValue);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        if (\n          !(ethersProvider && tokenContract && (ethers.utils.isAddress(accountAddress) || account))\n        ) {\n          return;\n        }\n        if (isNative) {\n          const balance = Number(\n            ethers.utils.formatEther(await ethersProvider.getBalance(accountAddress || account)),\n          );\n          if (isMounted) {\n            setNativeBalance(balance);\n          }\n        } else {\n          read([accountAddress || account]);\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchData();\n  }, [\n    tokenContract,\n    account,\n    accountAddress,\n    ethersProvider,\n    isMounted,\n    updateByTimer,\n    isNative,\n    read,\n  ]);\n\n  return {\n    ...state,\n    data: isNative ? nativeBalance : state.data,\n  };\n};\n\nexport const useTokenAllowance = (\n  tokenAddress,\n  targetContractAddress,\n  unit = 18,\n  accountAddress = null,\n) => {\n  const formatUnits = useCallback(\n    (number) => Number(ethers.utils.formatUnits(number, unit)),\n    [unit],\n  );\n\n  const initValue = 0;\n  const tokenContract = useERC20Contract(tokenAddress);\n  const { state, read } = useContract(tokenContract, 'allowance', formatUnits, initValue);\n  const { account, ethersProvider } = useWallet();\n  const { updateByTimer } = useUpdate();\n\n  useEffect(() => {\n    const fetchData = () => {\n      if (\n        !(\n          targetContractAddress &&\n          ethersProvider &&\n          tokenContract &&\n          (ethers.utils.isAddress(accountAddress) || account)\n        )\n      ) {\n        return;\n      }\n      read([accountAddress || account, targetContractAddress]);\n    };\n    fetchData();\n  }, [\n    tokenContract,\n    account,\n    accountAddress,\n    ethersProvider,\n    updateByTimer,\n    targetContractAddress,\n    read,\n  ]);\n  return state;\n};\n\nexport const useTokenApprove = (tokenAddress) => {\n  const tokenContract = useERC20Contract(tokenAddress);\n  const { state, write } = useContract(tokenContract, 'approve');\n  const { account } = useWallet();\n\n  const approve = (\n    targetAddress,\n    amount = '0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF',\n  ) => {\n    if (!(tokenContract && account)) {\n      return;\n    }\n    write([targetAddress, amount]);\n  };\n\n  return { state, approve };\n};\n\nexport const useAllTokenBalance = () => {\n  const addresses = useNameservice();\n  const nativeBalance = useTokenBalance(NULL_ADDR);\n  const zbcBalance = useTokenBalance(addresses[CONTRACT_NAME.ZBC], 9);\n  // const zbcLegacyBalance = useTokenBalance(addresses[CONTRACT_NAME.ZBCLegacy], 9);\n  // const usdtBalance = useTokenBalance(addresses[CONTRACT_NAME.USDT]);\n  // const busdBalance = useTokenBalance(addresses[CONTRACT_NAME.BUSD]);\n  // const zpointBalance = useTokenBalance(addresses[CONTRACT_NAME.ZPoint]);\n  return {\n    nativeBalance,\n    [CONTRACT_NAME.ZBC]: zbcBalance,\n    [CONTRACT_NAME.ZBCLegacy]: null,\n    [CONTRACT_NAME.USDT]: null,\n    [CONTRACT_NAME.BUSD]: null,\n    [CONTRACT_NAME.ZPoint]: null,\n  };\n};\n\nexport const useAllTokenAllowance = (targetContractAddress) => {\n  const addresses = useNameservice();\n  const zbcAllowance = useTokenAllowance(addresses[CONTRACT_NAME.ZBC], targetContractAddress, 9);\n  const zbcLegacyAllowance = useTokenAllowance(\n    addresses[CONTRACT_NAME.ZBCLegacy],\n    targetContractAddress,\n    9,\n  );\n  const usdtAllowance = useTokenAllowance(addresses[CONTRACT_NAME.USDT], targetContractAddress);\n  const busdAllowance = useTokenAllowance(addresses[CONTRACT_NAME.BUSD], targetContractAddress);\n  return {\n    [CONTRACT_NAME.ZBC]: zbcAllowance,\n    [CONTRACT_NAME.ZBCLegacy]: zbcLegacyAllowance,\n    [CONTRACT_NAME.USDT]: usdtAllowance,\n    [CONTRACT_NAME.BUSD]: busdAllowance,\n  };\n};\n\nexport const useZepochNodeTotalSupply = () => {\n  const decoder = useCallback((config) => config.toNumber(), []);\n  const initValue = 0;\n  const zepochNodeContract = useZepochNodeContract();\n  const { state, read } = useContract(zepochNodeContract, 'totalSupply', decoder, initValue);\n  const { updateByTimer } = useUpdate();\n\n  useEffect(() => {\n    const fetchData = () => {\n      if (!zepochNodeContract) {\n        return;\n      }\n      read();\n    };\n    fetchData();\n  }, [updateByTimer, read, zepochNodeContract]);\n  return state;\n};\n\n// export const useZepochNodeOwners = () => {\n//   const zepochNodeContract = useZepochNodeContract();\n//   const [owners, setOwners] = useState([]);\n\n//   useEffect(() => {\n//     const getOwners = async () => {\n//       if (zepochNodeContract) {\n//         const totalSupply = (await zepochNodeContract.totalSupply()).toNumber();\n//         const tempOwners = await Promise.all(\n//           [...Array(totalSupply).keys()].map((item) => zepochNodeContract.ownerOf(item + 1)),\n//         );\n//         console.log([...new Set(tempOwners)]);\n//       }\n//     };\n//     getOwners();\n//   }, [zepochNodeContract]);\n// };\n\nexport const useZPointTotalSupply = () => {\n  const formatEther = useCallback((number) => Number(ethers.utils.formatEther(number)), []);\n\n  const initValue = 0;\n  const zPointContract = useZPointContract();\n  const { state, read } = useContract(zPointContract, 'totalSupply', formatEther, initValue);\n  const { updateByTimer } = useUpdate();\n\n  useEffect(() => {\n    const fetchData = () => {\n      if (!zPointContract) {\n        return;\n      }\n      read();\n    };\n    fetchData();\n  }, [updateByTimer, read, zPointContract]);\n  return state;\n};\n\nexport const useVaultBalance = () => {\n  const [state, dispatch] = useReducer(readContractReducer, {\n    isLoading: false,\n    isError: false,\n    data: { USDTBalance: '', BUSDBalance: '', combinedBalance: '' },\n  });\n\n  const { [CONTRACT_NAME.USDT]: USDTAddress } = useNameservice();\n  const { [CONTRACT_NAME.BUSD]: BUSDAddress } = useNameservice();\n  const { [CONTRACT_NAME.Vault]: vaultAddress } = useNameservice();\n\n  const USDTContract = useERC20Contract(USDTAddress);\n  const BUSDContract = useERC20Contract(BUSDAddress);\n\n  const isMounted = useIsMounted();\n  const { updateByTimer } = useUpdate();\n\n  useEffect(() => {\n    const fetch = async () => {\n      try {\n        if (!(USDTContract && BUSDContract && vaultAddress)) {\n          return;\n        }\n        dispatch({ type: FETCH_STATE.INIT });\n\n        const [USDTBalance, BUSDBalance] = await Promise.all([\n          USDTContract.balanceOf(vaultAddress),\n          BUSDContract.balanceOf(vaultAddress),\n        ]);\n        if (isMounted.current) {\n          dispatch({\n            type: FETCH_STATE.SUCCESS,\n            payload: {\n              USDTBalance: ethers.utils.formatEther(USDTBalance).toString(),\n              BUSDBalance: ethers.utils.formatEther(BUSDBalance).toString(),\n              combinedBalance: ethers.utils.formatEther(USDTBalance.add(BUSDBalance)).toString(),\n            },\n          });\n        }\n      } catch (error) {\n        console.log(error);\n        if (isMounted.current) {\n          dispatch({ type: FETCH_STATE.FAILURE });\n        }\n      }\n    };\n    fetch();\n  }, [USDTContract, BUSDContract, isMounted, updateByTimer, vaultAddress]);\n\n  return state;\n};\n\n// export const use721Allowance = (tokenAddress, targetContractAddress) => {\n//   const initValue = false;\n//   const tokenContract = useERC721Contract(tokenAddress);\n//   const { state, read } = useContract(tokenContract, 'isApprovedForAll', null, initValue);\n//   const { account, ethersProvider } = useWallet();\n//   const { updateByTimer } = useUpdate();\n\n//   useEffect(() => {\n//     const fetchData = () => {\n//       if (!(targetContractAddress && ethersProvider && tokenContract && account)) {\n//         return;\n//       }\n//       read([account, targetContractAddress]);\n//     };\n//     fetchData();\n//   }, [tokenContract, account, ethersProvider, updateByTimer, targetContractAddress, read]);\n//   return state;\n// };\n\n// export const use721Approve = (tokenAddress) => {\n//   const tokenContract = useERC721Contract(tokenAddress);\n//   const { state, write } = useContract(tokenContract, 'setApprovalForAll');\n\n//   const approve = (targetAddress) => {\n//     console.log('handle approve');\n\n//     if (!tokenContract) {\n//       return;\n//     }\n//     write([targetAddress, true]);\n//   };\n\n//   return { state, approve };\n// };\n","import React, { useState } from 'react';\nimport { ethers } from 'ethers';\nimport { useTranslation } from 'react-i18next';\nimport { parseUnits } from 'ethers/lib/utils';\nimport { message, Spin } from 'antd';\nimport { NavLink, useParams } from 'react-router-dom';\nimport { LeftOutlined } from '@ant-design/icons';\nimport classNames from 'classnames';\nimport {\n  useGetProposals,\n  useGetVote,\n  useVote,\n  useVoteWithdraw,\n  useVoteWithdrawable,\n} from '../../hooks/useVote';\nimport MainContainer from '../../components/UI/MainContainer/MainContainer';\nimport CustomInput from '../../components/UI/CustomInput/CustomInput';\nimport styles from './VoteDetail.module.scss';\nimport { PROPOSAL_INFO, PROPOSAL_STATE } from '../../utils/voteUtils';\nimport OptionItem from '../../components/Vote/OptionItem/OptionItem';\nimport { formatNumber } from '../../utils/utils';\nimport CustomButton from '../../components/UI/CustomButton/CustomButton';\nimport CustomModal from '../../components/UI/CustomModal/CustomModal';\nimport { useAllTokenAllowance, useAllTokenBalance, useTokenApprove } from '../../hooks/useToken';\nimport { CONTRACT_NAME } from '../../constants/addresses';\nimport { useWallet } from '../../store/wallet-context';\nimport { useNameservice } from '../../store/nameservice-context';\n\nconst VoteDetail = () => {\n  const { t } = useTranslation();\n  const { account } = useWallet();\n  const [selectedOption, setSelectedOption] = useState(-1);\n  const [stakeModalVisible, setStateModalVisible] = useState(false);\n  const [stakeInput, setStakeInput] = useState('');\n\n  const { id } = useParams();\n  const { data: proposals } = useGetProposals();\n  const proposal = proposals?.[id];\n\n  const { data: voterRecord } = useGetVote(id);\n  const { data: voteWithdrawable } = useVoteWithdrawable(id);\n  const allTokenBalance = useAllTokenBalance();\n  const { data: zbcBalance } = allTokenBalance[CONTRACT_NAME.ZBC];\n  const { data: nativeBalance } = allTokenBalance.nativeBalance;\n\n  const { state: voteState, vote } = useVote();\n  const { state: voteWithdrawState, voteWithdraw } = useVoteWithdraw();\n\n  const addresses = useNameservice();\n  // get balance and allowance\n  const allTokenAllowance = useAllTokenAllowance(addresses[CONTRACT_NAME.Manager]);\n  const { data: allowance } = allTokenAllowance[CONTRACT_NAME.ZBC];\n  const { state: approveTokenState, approve } = useTokenApprove(addresses[CONTRACT_NAME.ZBC]);\n\n  if (!proposal) {\n    return (\n      <div className={styles.loadingPlaceholder}>\n        <Spin />\n      </div>\n    );\n  }\n\n  const options = proposal.options.slice(0, proposal.optionNumber.toNumber());\n  const optionVotes = proposal.optionVotes.slice(0, proposal.optionNumber.toNumber());\n\n  const votedIndex = voterRecord.voteMax?.findIndex((item) => item.gt(0)) ?? -1;\n  const stakedZBC = voterRecord.voteBalance?.reduce(\n    (accum, item) => accum.add(item),\n    ethers.constants.Zero,\n  );\n\n  const DescComp = PROPOSAL_INFO[id]?.DescComp;\n\n  const handleStakeInputChange = (e) => {\n    const {\n      target: { value },\n    } = e;\n    if (value.length === 0) {\n      setStakeInput(value);\n      return;\n    }\n    try {\n      ethers.utils.parseUnits(value, 9);\n      setStakeInput(value);\n    } catch (error) {\n      console.log('invalid input');\n    }\n  };\n\n  const toggleStakeModal = () => {\n    setStateModalVisible((prev) => !prev);\n  };\n\n  const handleVote = async () => {\n    if (voteState.isLoading) {\n      return;\n    }\n    if (!account) {\n      message.info(t('Please connect to wallet', 'Please connect to wallet'));\n      return;\n    }\n    if (proposal.state !== PROPOSAL_STATE.LIVE) {\n      message.info('Please vote on a live proposal');\n      return;\n    }\n    const amount = parseUnits(stakeInput, 9);\n    if (amount.gt(parseUnits(zbcBalance.toString(), 9))) {\n      message.info(\n        t('Not enough currency', 'Not enough {{currency}}', { currency: CONTRACT_NAME.ZBC }),\n      );\n      return;\n    }\n    if (nativeBalance < 0.01) {\n      message.info(\n        t(\n          \"You don't have enough BNB for gas to complete the transaction\",\n          \"You don't have enough BNB for gas to complete the transaction\",\n        ),\n      );\n      return;\n    }\n    if (votedIndex !== -1 && votedIndex !== selectedOption) {\n      message.info('You can only vote for one option');\n      return;\n    }\n    try {\n      await vote(id, selectedOption, amount);\n    } catch (e) {\n      console.log('vote failed');\n    }\n  };\n\n  const handleVoteWithdraw = async () => {\n    if (voteWithdrawState.isLoading) {\n      return;\n    }\n    if (!account) {\n      message.info(t('Please connect to wallet', 'Please connect to wallet'));\n      return;\n    }\n    if (proposal.state !== PROPOSAL_STATE.ENDED) {\n      message.info('Please withdraw on a ended proposal');\n      return;\n    }\n    if (!voteWithdrawable.gt(0)) {\n      message.info('Nothing to withdraw');\n      return;\n    }\n    if (nativeBalance < 0.01) {\n      message.info(\n        t(\n          \"You don't have enough BNB for gas to complete the transaction\",\n          \"You don't have enough BNB for gas to complete the transaction\",\n        ),\n      );\n      return;\n    }\n    try {\n      await voteWithdraw(id);\n    } catch (e) {\n      console.log('vote withdraw failed', e);\n    }\n  };\n  const handleApprove = () => {\n    if (approveTokenState.isLoading || !addresses[CONTRACT_NAME.Manager]) {\n      return;\n    }\n    if (!account) {\n      message.info(t('Please connect to wallet', 'Please connect to wallet'));\n      return;\n    }\n    if (nativeBalance < 0.01) {\n      message.info(\n        t(\n          \"You don't have enough BNB for gas to complete the transaction\",\n          \"You don't have enough BNB for gas to complete the transaction\",\n        ),\n      );\n      return;\n    }\n    // if (!checkTime(config.startTimestamp * 1000)) {\n    //   message.info(t('Not start yet', 'Not start yet'));\n    //   return;\n    // }\n    // if (!agreementChecked) {\n    //   message.info(\n    //     t(\n    //       'Please check the box for the risk agreement',\n    //       'Please check the box for the risk agreement',\n    //     ),\n    //   );\n    //   return;\n    // }\n    approve(addresses[CONTRACT_NAME.Manager]);\n  };\n\n  return (\n    <>\n      <CustomModal\n        open={stakeModalVisible}\n        title=\"Stake Amount\"\n        showTitle\n        onCancel={toggleStakeModal}>\n        <div className={styles.stakeModal}>\n          <div className={styles.balance}>\n            <p>Balance</p>\n            <p>{formatNumber(zbcBalance)} ZBC</p>\n          </div>\n          <CustomInput value={stakeInput} onChange={handleStakeInputChange} />\n          {allowance ? (\n            <CustomButton\n              className={styles.voteButton}\n              loading={voteState.isLoading}\n              onClick={handleVote}>\n              Stake\n            </CustomButton>\n          ) : (\n            <CustomButton\n              className={styles.voteButton}\n              loading={approveTokenState.isLoading}\n              onClick={handleApprove}>\n              Approve ZBC\n            </CustomButton>\n          )}\n        </div>\n      </CustomModal>\n      <div className={styles.VoteDetail}>\n        <div className={styles.banner}>\n          <MainContainer className={styles.bannerContainer}>\n            <NavLink className={styles.backButton} to=\"/vote\">\n              <LeftOutlined />\n              <span>Back</span>\n            </NavLink>\n          </MainContainer>\n        </div>\n        <MainContainer className={styles.mainContent}>\n          <div className={styles.descWrap}>{!!DescComp && <DescComp />}</div>\n          <div className={styles.actionWrap}>\n            <div className={styles.actionCard}>\n              <div className={styles.titleWrap}>\n                <h2>Vote Results</h2>\n                <div\n                  className={classNames(styles.status, {\n                    [styles.ended]: proposal.state === PROPOSAL_STATE.ENDED,\n                  })}>\n                  {proposal.state}\n                </div>\n              </div>\n              <div className={styles.optionWrap}>\n                {options.map((item, index) => (\n                  <OptionItem\n                    key={item}\n                    item={item}\n                    index={index}\n                    optionVotes={optionVotes}\n                    selectedOption={selectedOption}\n                    voterRecord={voterRecord}\n                    onClick={(option) => {\n                      setSelectedOption(option);\n                    }}\n                  />\n                ))}\n              </div>\n              <div className={styles.statsWrap}>\n                <div className={styles.statsItem}>\n                  <h2>Start Date</h2>\n                  <p>\n                    {new Date(proposal.startTimestamp.toNumber() * 1000).toUTCString().slice(5)}\n                  </p>\n                </div>\n                <div className={styles.statsItem}>\n                  <h2>End Date</h2>\n                  <p>{new Date(proposal.endTimestamp.toNumber() * 1000).toUTCString().slice(5)}</p>\n                </div>\n                <div className={styles.statsItem}>\n                  <h2>Quorum</h2>\n                  {proposal.optionVotes\n                    .reduce((accum, votes) => accum.add(votes), ethers.constants.Zero)\n                    .gte(PROPOSAL_INFO[proposal.pid]?.quorum) ? (\n                    <p>\n                      Reached\n                      <img src=\"/static/images/Icons/check.svg\" alt=\"pass\" />\n                    </p>\n                  ) : (\n                    <p>\n                      Not Reached\n                      <img src=\"/static/images/Icons/cross.svg\" alt=\"not pass\" />\n                    </p>\n                  )}\n                </div>\n              </div>\n            </div>\n            <div className={styles.actionCard}>\n              <div className={styles.titleWrap}>\n                <h2>Your Vote</h2>\n              </div>\n              <div className={styles.statsWrap}>\n                <div className={styles.statsItem}>\n                  <h2>Voted</h2>\n                  <p>{votedIndex === -1 ? '-' : options[votedIndex]}</p>\n                </div>\n                <div className={styles.statsItem}>\n                  <h2>Staked</h2>\n                  <p>\n                    {formatNumber(\n                      ethers.utils.formatUnits(stakedZBC || ethers.constants.Zero, 9),\n                      '0,0.[00]',\n                    )}{' '}\n                    ZBC\n                  </p>\n                </div>\n              </div>\n              {proposal.state === PROPOSAL_STATE.UPCOMING && (\n                <CustomButton className={styles.voteButton} secondary disabled>\n                  {PROPOSAL_STATE.UPCOMING}\n                </CustomButton>\n              )}\n              {proposal.state === PROPOSAL_STATE.LIVE && (\n                <CustomButton\n                  className={styles.voteButton}\n                  secondary\n                  onClick={toggleStakeModal}\n                  loading={voteState.isLoading}>\n                  Vote\n                </CustomButton>\n              )}\n              {proposal.state === PROPOSAL_STATE.ENDED && (\n                <CustomButton\n                  className={styles.voteButton}\n                  secondary\n                  disabled={!voteWithdrawable.gt(0)}\n                  loading={voteWithdrawState.isLoading}\n                  onClick={handleVoteWithdraw}>\n                  Withdraw\n                </CustomButton>\n              )}\n            </div>\n          </div>\n        </MainContainer>\n      </div>\n    </>\n  );\n};\n\nexport default VoteDetail;\n","import { useMemo } from 'react';\n// import { Trans, useTranslation } from 'react-i18next';\nimport Vote from '../views/Vote/Vote';\nimport VoteDetail from '../views/VoteDetail/VoteDetail';\n\nexport const usePages = () => {\n  // const {\n  //   i18n: { resolvedLanguage },\n  // } = useTranslation();\n\n  // const bridgeMenuItems = useMemo(\n  //   () => [\n  //     {\n  //       key: '1',\n  //       label: (\n  //         <a\n  //           target=\"_blank\"\n  //           rel=\"noopener noreferrer\"\n  //           href=\"https://www.portalbridge.com/#/transfer\">\n  //           Portal Bridge\n  //         </a>\n  //       ),\n  //     },\n  //     {\n  //       key: '2',\n  //       label: (\n  //         <a\n  //           target=\"_blank\"\n  //           rel=\"noopener noreferrer\"\n  //           href={\n  //             resolvedLanguage === 'zh'\n  //               ? 'https://horizon.zebec.io/docs/bsc-solana-bridge-cn.pdf'\n  //               : 'https://medium.com/zebec-protocol/how-to-bridge-zbc-from-solana-to-binance-smart-chain-via-portal-token-bridge-and-vice-versa-ccddfdaa1aa5'\n  //           }>\n  //           <Trans i18nKey=\"Bridge Guide\">Bridge Guide</Trans>\n  //         </a>\n  //       ),\n  //     },\n  //   ],\n\n  //   [resolvedLanguage],\n  // );\n\n  const pages = useMemo(\n    () => [\n      {\n        id: 0,\n        text: 'Governance Detail',\n        path: '/governance/detail/:id',\n        component: VoteDetail,\n        isSubPage: true,\n        exact: true,\n      },\n      { id: 1, text: 'Governance', path: '/governance', component: Vote },\n\n      // { id: 0, text: 'About', path: '/about', component: About },\n      // { id: 1, text: 'Participate', path: '/participate', component: Participate },\n      // { id: 2, text: 'Zebec Points', path: '/points', component: Points },\n      // { id: 3, text: 'Airdrop', path: '/airdrop', component: Airdrop },\n      // { id: 4, text: 'Swap', path: '/swap', component: Swap },\n      // { id: 5, text: 'Rewards Plan', path: '/rewards', component: Rewards },\n      // { id: 6, text: 'Treasury', path: '/Treasury', component: RewardsPool },\n      // { id: 7, text: 'Profile', path: '/profile', component: Profile, protected: true },\n      // { id: 8, text: 'LearnMore', path: '/learnMore', component: LearnMore, isSubPage: true },\n      // { id: 9, text: 'Docs', href: 'https://docs.zebec.io/operation-horizon/' },\n      // { id: 10, text: 'Bridge', menuItems: bridgeMenuItems },\n    ],\n    [],\n  );\n  return pages;\n};\n","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height,\n  };\n}\n\nexport function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n}\n","import { MOBILE_BREAK_POINT } from '../constants/misc';\nimport { useWindowDimensions } from './useWindowDimensions';\n\nexport const useIsMobileView = () => {\n  const { width } = useWindowDimensions();\n  return width <= MOBILE_BREAK_POINT;\n};\n","import { NavLink, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst NavLinkWithQuery = ({ children, to, ...props }) => {\n  const { search } = useLocation();\n  return (\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    <NavLink to={{ pathname: to, search }} {...props}>\n      {children}\n    </NavLink>\n  );\n};\n\nNavLinkWithQuery.propTypes = {\n  children: PropTypes.node.isRequired,\n  to: PropTypes.string.isRequired,\n};\n\nexport default NavLinkWithQuery;\n","import React, { useEffect, useState, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Menu, Dropdown, message } from 'antd';\nimport classNames from 'classnames';\nimport { usePages } from '../../constants/pages';\nimport CustomButton from '../UI/CustomButton/CustomButton';\nimport { useIsMobileView } from '../../hooks/useIsMobileView';\nimport { useWallet } from '../../store/wallet-context';\nimport { truncAddress } from '../../utils/utils';\nimport NavLinkWithQuery from '../NavLinkWithQuery/NavLinkWithQuery';\n\nimport styles from './Header.module.scss';\n\n// const langs = [\n//   { key: 'en', label: 'English' },\n//   { key: 'zh', label: '简体中文' },\n//   { key: 'ja', label: '日本語' },\n//   { key: 'ko', label: '한국의' },\n//   { key: 'es', label: 'Español' },\n//   { key: 'ru', label: 'Русский' },\n//   { key: 'hi', label: 'हिन्दी' },\n//   { key: 'ar', label: 'عربي' },\n//   { key: 'ms', label: 'Orang Melayu' },\n//   { key: 'vi', label: 'tiếng Việt' },\n//   { key: 'id', label: 'Bahasa Indonesia' },\n// ];\n\nconst Header = () => {\n  const PAGES = usePages();\n  const mainPages = useMemo(() => PAGES.filter((item) => !item.isSubPage), [PAGES]);\n\n  const isMobileView = useIsMobileView();\n  const [menuCollapsed, setMenuCollapsed] = useState(isMobileView);\n  const { toggleWalletMenuVisible, account } = useWallet();\n  const [pages, setPages] = useState([]);\n  // const [currentLang, setCurrentLang] = useState('en');\n  const { t } = useTranslation();\n\n  // const langMenu = (\n  //   <Menu\n  //     items={langs}\n  //     onClick={(item) => {\n  //       i18n.changeLanguage(item.key);\n  //     }}\n  //     className={styles.menu}\n  //   />\n  // );\n\n  useEffect(() => {\n    setPages(mainPages.filter((item) => !item.protected || account));\n  }, [account, mainPages]);\n\n  // useEffect(() => {\n  //   setCurrentLang('en');\n  // }, [i18n.resolvedLanguage]);\n\n  useEffect(() => {\n    if (isMobileView) {\n      setMenuCollapsed(true);\n    } else {\n      setMenuCollapsed(false);\n    }\n  }, [isMobileView]);\n\n  const toggleMenu = () => {\n    if (isMobileView) {\n      setMenuCollapsed(!menuCollapsed);\n    }\n  };\n\n  return (\n    <div className={styles.Header}>\n      {isMobileView && (\n        <div\n          className={classNames(styles.backdrop, { [styles.visible]: !menuCollapsed })}\n          onClick={toggleMenu}\n        />\n      )}\n      <NavLinkWithQuery to=\"/\" className={styles.logo}>\n        <img src=\"/static/images/Header/logo.svg\" alt=\"zebec\" />\n        <h2>Zebec</h2>\n      </NavLinkWithQuery>\n      {isMobileView && (\n        <img\n          className={styles.menuButton}\n          src=\"/static/images/Header/menu.svg\"\n          alt=\"menu\"\n          onClick={toggleMenu}\n        />\n      )}\n      {!menuCollapsed && (\n        <div className={styles.menuWrap}>\n          <div className={styles.navWrap}>\n            {pages.map((item) => {\n              if (item.href) {\n                return (\n                  <a\n                    href={item.href}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className={styles.navItem}\n                    key={item.id}\n                    onClick={toggleMenu}>\n                    {t(item.text)}\n                  </a>\n                );\n              }\n              if (item.menuItems) {\n                const navMenu = (\n                  <Menu items={item.menuItems} className={styles.navMenu} onClick={toggleMenu} />\n                );\n                return (\n                  <Dropdown overlay={navMenu} key={item.id}>\n                    <div className={styles.navItem}>{t(item.text)}</div>\n                  </Dropdown>\n                );\n              }\n\n              return (\n                <NavLinkWithQuery\n                  to={item.path}\n                  className={(isActive) =>\n                    classNames(styles.navItem, { [styles.active]: isActive })\n                  }\n                  onClick={() => {\n                    toggleMenu();\n                    if (item.maintenance) {\n                      message.info(t('page-under-maintenance', 'The page is under maintenance.'));\n                    }\n                  }}\n                  key={item.id}>\n                  {t(item.text)}\n                </NavLinkWithQuery>\n              );\n            })}\n          </div>\n          {/* <Dropdown overlay={langMenu} trigger=\"click\">\n            <img\n              className={styles.langButton}\n              src={`/static/images/Header/flags/${currentLang}.png`}\n              alt={currentLang}\n            />\n          </Dropdown> */}\n          {account ? (\n            <CustomButton\n              className={styles.walletButton}\n              rounded\n              gray\n              onClick={() => {\n                toggleWalletMenuVisible();\n                toggleMenu();\n              }}>\n              {truncAddress(account)}\n            </CustomButton>\n          ) : (\n            <CustomButton\n              className={styles.walletButton}\n              rounded\n              onClick={() => {\n                toggleWalletMenuVisible();\n                toggleMenu();\n              }}>\n              {t('Connect', 'Connect')}\n            </CustomButton>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Header;\n","import { Col, Row } from 'antd';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styles from './Footer.module.scss';\n\nconst LINK_COLUMN = {\n  PRODUCT: 'Product',\n  COMPANY: 'Company',\n  LEARN: 'Learn',\n  SOCIAL: 'Social',\n};\n\nconst LINK_LIST = {\n  [LINK_COLUMN.PRODUCT]: [\n    { text: 'Github', link: 'https://github.com/Zebec-protocol/' },\n    { text: 'Docs', link: 'https://docs.zebec.io/' },\n  ],\n  [LINK_COLUMN.COMPANY]: [\n    { text: 'About Us', link: 'https://zebec.io/about-us' },\n    { text: 'Privacy', link: 'https://zebec.io/privacy-policy' },\n    { text: 'MediaKit', link: 'https://zebec.io/media-kit' },\n  ],\n  [LINK_COLUMN.LEARN]: [\n    { text: 'What is Zebec?', link: 'https://docs.zebec.io/' },\n    { text: 'What is Solana', link: 'https://docs.solana.com/' },\n  ],\n  [LINK_COLUMN.SOCIAL]: [\n    { text: 'Discord', link: 'https://discord.gg/fJM9cHuvvB' },\n    { text: 'Twitter', link: 'https://twitter.com/Zebec_HQ' },\n    { text: 'Telegram (Zebec Protocol)', link: 'https://t.me/zebecprotocol' },\n    { text: 'Telegram (Zebec Operation Horizon)', link: 'https://t.me/zebechorizon' },\n    { text: 'Medium', link: 'https://medium.com/zebec-protocol' },\n  ],\n};\n\nconst Footer = () => {\n  const { t } = useTranslation();\n  return (\n    <>\n      <div className={styles.Footer}>\n        <div className={`${styles.FooterColumn} ${styles.FlexColumn}`}>\n          <div className={styles.FooterLogo}>\n            <img src=\"/static/images/Header/logo.svg\" alt=\"zebec\" />\n            <h2>Zebec</h2>\n          </div>\n          <br />\n        </div>\n        <div className={styles.LinkWrap}>\n          <Row gutter={[16, 32]}>\n            {Object.values(LINK_COLUMN).map((item) => (\n              <Col xs={24} sm={12} md={12} lg={6} xl={6} xxl={6} key={item}>\n                <div className={styles.LinkColumn}>\n                  <h2>{t(item)}</h2>\n                  {LINK_LIST[item].map((linkItem) => (\n                    <a\n                      href={linkItem.link}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      key={linkItem.text}>\n                      {t(linkItem.text)}\n                    </a>\n                  ))}\n                </div>\n              </Col>\n            ))}\n          </Row>\n        </div>\n      </div>\n      <h2 className={styles.CopyRight}>© 2023 Zebec. All rights reserved.</h2>\n    </>\n  );\n};\n\nexport default Footer;\n","import { Redirect, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst RedirectWithQuery = ({ to, ...props }) => {\n  const { search } = useLocation();\n  return (\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    <Redirect to={{ pathname: to, search }} {...props} />\n  );\n};\n\nRedirectWithQuery.propTypes = {\n  to: PropTypes.string.isRequired,\n};\n\nexport default RedirectWithQuery;\n","import { useEffect, useState, useMemo } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport AOS from 'aos';\n\nimport WalletMenu from './components/WalletMenu/WalletMenu';\nimport { useWallet } from './store/wallet-context';\nimport Header from './components/Header/Header';\nimport Footer from './components/Footer/Footer';\nimport { usePages } from './constants/pages';\nimport RedirectWithQuery from './components/RedirectWithQuery/RedirectWithQuery';\n// import Phase1Celebration from './components/Phase1Celebration/Phase1Celebration';\n// import CustomAlert from './components/CustomAlert/CustomAlert';\n\nimport 'aos/dist/aos.css';\nimport 'antd/dist/antd.css';\nimport './App.css';\n\nfunction App() {\n  const PAGES = usePages();\n  const CONCRETE_PAGES = useMemo(\n    () => PAGES.filter((item) => !!item.component && !item.maintenance),\n    [PAGES],\n  );\n\n  const { account } = useWallet();\n  const [pages, setPages] = useState(CONCRETE_PAGES.filter((item) => !item.protected));\n\n  useEffect(() => {\n    setPages(CONCRETE_PAGES.filter((item) => !item.protected || account));\n  }, [account, CONCRETE_PAGES]);\n\n  useEffect(() => {\n    AOS.init({\n      duration: 800,\n      once: true,\n    });\n  }, []);\n\n  return (\n    <>\n      {/* <CustomAlert /> */}\n      <div className=\"App\">\n        <Header />\n        <Switch>\n          {pages.map((item) => {\n            const PageComponent = item.component;\n            return (\n              <Route path={item.path} exact={!!item.exact} key={item.id}>\n                <PageComponent />\n              </Route>\n            );\n          })}\n          <RedirectWithQuery to=\"/governance\" />\n        </Switch>\n        <Footer />\n        <WalletMenu />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React, { createContext, useContext, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst queryContext = createContext();\n\nexport const useQuery = () => useContext(queryContext);\n\nconst useProvideQuery = () => {\n  const { search } = useLocation();\n  const [query] = useState(new URLSearchParams(search));\n  return query;\n};\n\nexport function ProvideQuery({ children }) {\n  const query = useProvideQuery();\n  return <queryContext.Provider value={query}>{children}</queryContext.Provider>;\n}\nProvideQuery.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import i18next from 'i18next';\nimport HttpBackend from 'i18next-http-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\nconst apiKey = 'ncyEbCT4n4iUwD-FJEIcfQ';\nconst loadPath = `https://api.i18nexus.com/project_resources/translations/{{lng}}/{{ns}}.json?api_key=${apiKey}`;\n\ni18next\n  .use(HttpBackend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  // .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    debug: false,\n    fallbackLng: 'en',\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n    ns: ['default'],\n    defaultNS: 'default',\n    allowObjectInHTMLChildren: true, // temporary solution to interpolation of Trans component problem\n    detection: { order: ['localStorage', 'htmlTag'] },\n\n    supportedLngs: [\n      'en',\n      'ms', // Malay\n      'ko',\n      'ru', // Russian\n      'es', // Spanish\n      'hi', // Hindi\n      'vi',\n      'ja',\n      'zh',\n      'ar', // Arabic\n      'id', // Indonesian\n    ],\n\n    backend: {\n      loadPath,\n    },\n    react: {\n      // nodes allowed to be kept\n      transKeepBasicHtmlNodesFor: [\n        'br',\n        'strong',\n        'i',\n        'p',\n        'span',\n        'ul',\n        'li',\n        'NavLinkWithQuery',\n      ],\n    },\n  });\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\nimport { ProvideUpdate } from './hooks/useUpdate';\nimport { ProvideNameservice } from './store/nameservice-context';\nimport { ProvideWallet } from './store/wallet-context';\nimport { ProvideQuery } from './hooks/useQuery';\n\nimport './index.css';\nimport './i18n';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <HashRouter>\n      <ProvideQuery>\n        <ProvideWallet>\n          <ProvideUpdate>\n            <ProvideNameservice>\n              <App />\n            </ProvideNameservice>\n          </ProvideUpdate>\n        </ProvideWallet>\n      </ProvideQuery>\n    </HashRouter>\n  </React.StrictMode>,\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__1CTzX\",\"menuButton\":\"Header_menuButton__3klE9\",\"menu\":\"Header_menu__Zy7KP\",\"backdrop\":\"Header_backdrop__1jEqv\",\"visible\":\"Header_visible__f2oM-\",\"logo\":\"Header_logo__3T0lc\",\"menuWrap\":\"Header_menuWrap__3pbHM\",\"navWrap\":\"Header_navWrap__T7JPS\",\"navItem\":\"Header_navItem__1he5d\",\"active\":\"Header_active__3GX0s\",\"walletButton\":\"Header_walletButton__K19wR\",\"langButton\":\"Header_langButton__3G48_\",\"navMenu\":\"Header_navMenu__3tjaI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WalletMenu\":\"WalletMenu_WalletMenu__3Io86\",\"visible\":\"WalletMenu_visible__1SU9w\",\"disconnectMenu\":\"WalletMenu_disconnectMenu__iXW4c\",\"title\":\"WalletMenu_title__38A3u\",\"disconnectButton\":\"WalletMenu_disconnectButton__3vXLl\",\"MenuItem\":\"WalletMenu_MenuItem__2s5uz\",\"backdrop\":\"WalletMenu_backdrop__2FFj2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProposalList\":\"ProposalList_ProposalList__2Zo6P\",\"proposalItem\":\"ProposalList_proposalItem__gkcq5\",\"status\":\"ProposalList_status__2gRwH\",\"ended\":\"ProposalList_ended__3tdPU\",\"proposalContent\":\"ProposalList_proposalContent__36mrZ\",\"infoItem\":\"ProposalList_infoItem__3os6n\",\"timeWrap\":\"ProposalList_timeWrap__2d6a9\",\"percentBar\":\"ProposalList_percentBar__3GrpR\"};"],"sourceRoot":""}